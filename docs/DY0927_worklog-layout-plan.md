# 작업일지 레이아웃 개편 플랜

## 배경

- 현재 모바일 작업일지 화면은 `modules/worker-site-manager/pages/WorkLogHomePage.tsx` 단일 컴포넌트에 요약 카드, 통계, 검색, 탭, 리스트가 모두 포함되어 있음.
- 레퍼런스 HTML(`dy_memo/new_image_html_v3.0/inopnc-page/public/raw/task.html`)은 탭/필터/검색/리스트를 상단 정렬하고, 리스트 항목을 단일 행 구조로 요약하여 가독성과 전환 속도가 높음.
- 기존 페이지와 혼선 없이 단계적으로 적용하기 위해 문서화 · 플래그 · 체크리스트 기반 진행이 필요함.

## 목표 상태

1. 탭을 상단 고정 구조로 재배치하고 바로 아래에 필터/검색을 배치한다.
2. 리스트 항목을 경량화(행형 카드)하여 빠르게 스크롤 가능하도록 한다.
3. 검색/필터 UX를 레퍼런스 수준(취소, 최근 검색 등)으로 확장한다.
4. 기존 통계/요약 카드는 별도 탭 또는 하단 섹션으로 이동하여 핵심 흐름을 방해하지 않도록 한다.

## 진행 전략

- **브랜치**: `feature/worklog-layout-refresh` (필수는 아니지만, 실제 개발 시 본 브랜치에서 작업 권장).
- **경로 분리**: 새로운 레이아웃을 `WorkLogHomePageV2` (또는 `/mobile/worklog/v2`)로 구현하고, 플래그/라우팅 전환 시점까지 기존 페이지는 유지한다.
- **단계 체크리스트**
  1. [ ] `WorkLogHomePage` 현행 구조 정리 및 책임 분리 포인트 도출
  2. [x] `WorkLogHomePageV2` 골격 생성 (탭/필터/검색/리스트 배치만 구성)
  3. [x] 리스트 아이템 컴포넌트 경량화 (`WorkLogListItem` 가칭) 구현
  4. [ ] 검색/필터 상호작용 확장 (취소 버튼, 최근 검색 저장 등)
  5. [ ] NPC/통계 카드 재배치 및 필요 데이터 흐름 검증
  6. [ ] V2와 기존 페이지 기능/데이터 파리티 테스트 및 전환 결정
  7. [ ] 전환 후 불필요한 스타일/컴포넌트 정리

## 참고

- 기존 훅: `modules/mobile/hooks/use-work-logs.ts`
- 모달/상세: `modules/mobile/components/work-log/WorkLogModal.tsx`, 향후 상세 보기 연결 여부 판단 필요
- 레퍼런스 HTML: `/dy_memo/new_image_html_v3.0/inopnc-page/public/raw/task.html`

## 메모

- 진행 중 중단될 경우, 이 문서의 체크리스트와 Git 브랜치 커밋 메시지를 확인하면 재개 포인트를 빠르게 파악 가능.
- 각 단계 완료 시 체크박스를 업데이트하거나 커밋 메시지 앞에 `[worklog-layout]` 프리픽스를 사용하면 추적이 쉬움.
- 문서명은 `DY0927_worklog-layout-plan.md`로 관리 (2024-09-27 기준).
- 2024-09-27: V2 전용 리스트 아이템, 현장/기간 선택 시트, 검색 최근 기록(로컬스토리지) 지원 및 상세보기 모달 연동 완료.
