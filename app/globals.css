@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import INOPNC Design System Tokens */
@import '../styles/design-tokens.css';

/* Import Component Styles */
@import '../styles/components.css';

/* ========================================
   MOBILE UI UPGRADE - DESIGN TOKENS
   HTML mockup integration layer
   ======================================== */

:root {
  /* Brand Colors from HTML reference - Exact Match */
  --brand: #1a254f;
  --brand-light: #2a3570;
  --brand-dark: #0f1835;
  --num: #0068fe;

  /* Statistics Card Colors - HTML Reference System */
  --stat-orange: #ff8c42;
  --stat-orange-bg: #fff4ed;
  --stat-orange-border: #ffdbcc;

  --stat-green: #10b981;
  --stat-green-bg: #ecfdf5;
  --stat-green-border: #a7f3d0;

  --stat-blue: #3b82f6;
  --stat-blue-bg: #eff6ff;
  --stat-blue-border: #dbeafe;

  /* Light theme colors */
  --bg: #ffffff;
  --card: #ffffff;
  --border: #e5e7eb;
  --text: #1f2937;
  --text-muted: #6b7280;
  --bg-secondary: #f9fafb;

  /* Component Specific (Override from design-tokens) */
  --nav-bg: #ffffff;
  --nav-border: #e5e7eb;
  --nav-text: #6b7280;
  --nav-text-active: #2563eb;

  /* Mobile Viewport */
  --vh: 1vh;
  --dvh: 100dvh;
  --svh: 100svh;

  /* Work Card Styles */
  --work-card-bg: #ffffff;
  --work-card-border: #e6ecf4;
  --work-card-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  --work-card-radius: 12px;
}

/* Dark theme extensions */
[data-theme='dark'] {
  --bg: #0f172a;
  --card: #0f172a;
  --border: #3a4048;
  --text: #e9eef5;
  --text-muted: #a8b0bb;
  --bg-secondary: #1f2937;
  --nav-bg: #11151b;
  --nav-border: #3a4048;
  --nav-text: #a8b0bb;
  --nav-text-active: #2f6bff;
  --work-card-bg: #0f172a;
  --work-card-border: #3a4048;
}

/* CRITICAL: Production Quality Preservation Layer */
/* These rules MUST be loaded to prevent quality degradation in production */
@layer base {
  /* Force consistent rendering across environments */
  html {
    -webkit-text-size-adjust: 100% !important;
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    text-rendering: optimizeLegibility !important;
    /* Prevent color space issues */
    color-profile: sRGB;
    rendering-intent: relative-colorimetric;
  }

  /* Ensure colors render correctly */
  * {
    /* Disable any filters that might be applied */
    filter: none !important;
    -webkit-filter: none !important;
    /* Preserve color accuracy */
    color-rendering: optimizeQuality !important;
  }

  /* Fix image quality degradation */
  img,
  video,
  canvas,
  svg {
    image-rendering: -webkit-optimize-contrast !important;
    image-rendering: high-quality !important;
    -ms-interpolation-mode: bicubic !important;
  }
}

/* ========================================
   MOBILE OPTIMIZATION LAYER
   From HTML mockup - iOS/Android optimization
   ======================================== */

/* Mobile input optimization - prevents iOS auto-zoom */
input,
select,
textarea {
  font-size: 16px !important;
  -webkit-appearance: none;
  appearance: none;
  border-radius: 0;
}

/* iOS auto-zoom prevention for all input types */
input[type='text'],
input[type='password'],
input[type='email'],
input[type='tel'],
input[type='url'],
input[type='search'],
textarea,
select {
  font-size: 16px !important;
}

/* Dynamic viewport height system */
.min-h-screen-safe {
  min-height: calc(var(--vh, 1vh) * 100);
}

/* Font size scaling system from mockup - applied to main content container */
main.container.fs-100 {
  font-size: 15px;
  font-weight: 200;
  font-family:
    'Noto Sans KR',
    system-ui,
    -apple-system,
    'Segoe UI',
    Roboto,
    'Apple SD Gothic Neo',
    'Malgun Gothic',
    sans-serif;
}

main.container.fs-150 {
  font-size: 27px; /* 15px * 1.8 = 27px */
  font-weight: 200;
  font-family:
    'Noto Sans KR',
    system-ui,
    -apple-system,
    'Segoe UI',
    Roboto,
    'Apple SD Gothic Neo',
    'Malgun Gothic',
    sans-serif;
}

/* Ensure all child elements inherit the font size */
main.container.fs-150 * {
  font-size: inherit !important;
}

main.container.fs-150 input,
main.container.fs-150 textarea,
main.container.fs-150 select,
main.container.fs-150 button {
  font-size: inherit !important;
  min-height: 2.5em !important;
  padding: 0.5em 0.75em !important;
}

/* Typography system - Using CSS variables from Next.js fonts */
.font-poppins {
  font-family: var(--font-poppins), system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

.brand-logo {
  font-family:
    var(--font-poppins),
    var(--font-noto-sans-kr),
    system-ui,
    -apple-system,
    'Segoe UI',
    Roboto,
    sans-serif;
  font-weight: 700;
  font-size: 20px;
  line-height: 1;
  letter-spacing: 0.2px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Work Card Styles from mockup */
.work-card {
  border: 1px solid var(--work-card-border);
  border-radius: var(--work-card-radius);
  background: var(--work-card-bg);
  transition: all 0.2s ease;
}

.work-card:hover {
  box-shadow: var(--work-card-shadow);
  border-color: var(--accent);
}

/* Safe area support for mobile devices */
@supports (padding: max(0px)) {
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }

  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }
}

/* ========================================
   ROLE-BASED UI OPTIMIZATION
   Pure CSS solution - No JavaScript needed
   ======================================== */

/* Force desktop UI for admin roles */
body.admin-role,
body.role-admin,
body.role-system-admin {
  min-width: 1536px !important;
  overflow-x: auto !important;
  -webkit-overflow-scrolling: touch !important; /* Enable smooth scrolling on iOS */
  overflow-y: auto !important; /* Allow vertical scrolling */
}

/* Mobile optimization for field roles */
body.field-role,
body.role-worker,
body.role-site-manager,
body.role-customer-manager {
  min-width: unset !important;
  width: 100% !important;
  overflow-x: hidden !important; /* Prevent horizontal scroll on mobile */
}

/* Ensure containers maintain desktop width for admin */
.admin-role .container,
.admin-role main,
.admin-role #__next,
.role-admin .container,
.role-admin main,
.role-admin #__next,
.role-system-admin .container,
.role-system-admin main,
.role-system-admin #__next {
  min-width: 1536px !important;
  width: 100% !important;
}

/* Mobile-optimized containers for field roles */
.field-role .container,
.field-role main,
.field-role #__next,
.role-worker .container,
.role-worker main,
.role-worker #__next,
.role-site-manager .container,
.role-site-manager main,
.role-site-manager #__next,
.role-customer-manager .container,
.role-customer-manager main,
.role-customer-manager #__next {
  min-width: unset !important;
  width: 100% !important;
  max-width: 100vw !important;
}

/* Enable scrolling on mobile devices for admin */
@media (max-width: 768px) {
  html.admin-role,
  html.role-admin,
  html.role-system-admin {
    overflow: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  body.admin-role,
  body.role-admin,
  body.role-system-admin {
    position: relative !important;
    height: auto !important;
    min-height: 100vh !important;
  }

  /* Ensure field roles have proper mobile layout */
  html.field-role,
  html.role-worker,
  html.role-site-manager,
  html.role-customer-manager {
    overflow-x: hidden !important;
    overflow-y: auto !important;
  }

  body.field-role,
  body.role-worker,
  body.role-site-manager,
  body.role-customer-manager {
    font-size: 16px !important; /* Prevent iOS zoom on input focus */
    -webkit-text-size-adjust: 100% !important;
  }
}

/* Override Tailwind responsive utilities for admin */
@media (max-width: 1536px) {
  /* Desktop visibility for admin */
  .admin-role .lg\:block,
  .admin-role .xl\:block,
  .admin-role .2xl\:block,
  .role-admin .lg\:block,
  .role-admin .xl\:block,
  .role-admin .2xl\:block,
  .role-system-admin .lg\:block,
  .role-system-admin .xl\:block,
  .role-system-admin .2xl\:block {
    display: block !important;
  }

  .admin-role .lg\:flex,
  .admin-role .xl\:flex,
  .admin-role .2xl\:flex,
  .role-admin .lg\:flex,
  .role-admin .xl\:flex,
  .role-admin .2xl\:flex,
  .role-system-admin .lg\:flex,
  .role-system-admin .xl\:flex,
  .role-system-admin .2xl\:flex {
    display: flex !important;
  }

  /* Hide mobile elements for admin */
  .admin-role .lg\:hidden,
  .admin-role .xl\:hidden,
  .admin-role .2xl\:hidden,
  .role-admin .lg\:hidden,
  .role-admin .xl\:hidden,
  .role-admin .2xl\:hidden,
  .role-system-admin .lg\:hidden,
  .role-system-admin .xl\:hidden,
  .role-system-admin .2xl\:hidden {
    display: none !important;
  }

  /* Force desktop widths */
  .admin-role .lg\:w-72,
  .role-admin .lg\:w-72,
  .role-system-admin .lg\:w-72 {
    width: 18rem !important;
  }

  .admin-role .lg\:w-64,
  .role-admin .lg\:w-64,
  .role-system-admin .lg\:w-64 {
    width: 16rem !important;
  }

  .admin-role .lg\:pl-72,
  .role-admin .lg\:pl-72,
  .role-system-admin .lg\:pl-72 {
    padding-left: 18rem !important;
  }

  .admin-role .lg\:pl-64,
  .role-admin .lg\:pl-64,
  .role-system-admin .lg\:pl-64 {
    padding-left: 16rem !important;
  }

  /* Force tables to remain as tables */
  .admin-role table,
  .role-admin table,
  .role-system-admin table {
    display: table !important;
    width: 100% !important;
  }

  .admin-role thead,
  .role-admin thead,
  .role-system-admin thead {
    display: table-header-group !important;
  }

  .admin-role tbody,
  .role-admin tbody,
  .role-system-admin tbody {
    display: table-row-group !important;
  }

  .admin-role tr,
  .role-admin tr,
  .role-system-admin tr {
    display: table-row !important;
  }

  .admin-role th,
  .admin-role td,
  .role-admin th,
  .role-admin td,
  .role-system-admin th,
  .role-system-admin td {
    display: table-cell !important;
  }
}

/* Force mobile navigation to stay at bottom */
@media (max-width: 768px) {
  /* Only apply mobile-specific styles when NOT in force-desktop-ui mode */
  body:not(.force-desktop-ui) {
    position: fixed;
    width: 100%;
    height: 100vh;
    overflow: hidden;
  }

  /* Make root container scrollable - but not for desktop UI */
  body:not(.force-desktop-ui) #__next {
    height: 100vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  /* Force bottom nav to stay visible - but not for desktop UI */
  body:not(.force-desktop-ui) nav[class*='fixed bottom-0'] {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 9999 !important;
    transform: translateZ(0) !important;
  }
}

/* Admin Dashboard Sidebar Collapse Styles */
.admin-sidebar-collapsed {
  transform: translateX(-100%);
}

/* Smooth transitions for sidebar toggle */
.sidebar-transition {
  transition:
    transform 0.3s ease-in-out,
    width 0.3s ease-in-out;
}

/* Ensure content area transitions smoothly when sidebar toggles */
.content-transition {
  transition:
    padding-left 0.3s ease-in-out,
    margin-left 0.3s ease-in-out;
}

/* WCAG 2.1 Color and Contrast System */

/* 
 * WCAG 2.1 Contrast Requirements:
 * - Normal text: 4.5:1 contrast ratio
 * - Large text (18pt+ or 14pt+ bold): 3:1 contrast ratio
 * - UI components and graphics: 3:1 contrast ratio
 */

@layer base {
  /* Default (Light Mode) Color Tokens with WCAG Compliance */
  :root {
    --background: 0 0% 100%;
    --foreground: 240 10% 3.9%;

    /* Primary colors with guaranteed contrast */
    --color-text-primary: #202632; /* toss-gray-900 on white: 13.68:1 ✓ */
    --color-text-secondary: #333d4b; /* toss-gray-700 on white: 9.42:1 ✓ */
    --color-text-tertiary: #515866; /* toss-gray-600 on white: 6.46:1 ✓ */
    --color-text-disabled: #6b7684; /* toss-gray-500 on white: 4.57:1 ✓ */

    /* Background colors */
    --color-bg-primary: #ffffff;
    --color-bg-secondary: #f7f8fa; /* toss-gray-100 */
    --color-bg-tertiary: #eff1f4; /* toss-gray-200 */
    --color-bg-hover: #e5e8eb; /* toss-gray-300 */

    /* Interactive colors with contrast validation */
    --color-primary: #0064ff; /* toss-blue-500 on white: 4.52:1 ✓ */
    --color-primary-hover: #0052d9; /* toss-blue-600 on white: 5.85:1 ✓ */
    --color-success: #00a86b; /* Custom green on white: 4.5:1 ✓ */
    --color-warning: #ff6b00; /* Custom orange on white: 4.52:1 ✓ */
    --color-error: #dc2626; /* red-600 on white: 7.28:1 ✓ */

    /* High contrast borders and dividers */
    --color-border-default: #e5e8eb; /* toss-gray-300 */
    --color-border-strong: #c5cdd8; /* toss-gray-400 */
    --color-border-focus: #0064ff; /* toss-blue-500 */

    /* Shadows for depth perception */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);

    /* Premium Elevation System */
    --elevation-sm: 0 1px 3px rgba(0, 0, 0, 0.12);
    --elevation-md: 0 4px 6px rgba(0, 0, 0, 0.16);
    --elevation-lg: 0 10px 20px rgba(0, 0, 0, 0.19);
    --elevation-xl: 0 15px 30px rgba(0, 0, 0, 0.22);

    /* Radix UI Component Variables */
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;
    --muted: 210 40% 98%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 98%;
    --accent-foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
  }

  /* Dark Mode Color Tokens with WCAG Compliance */
  .dark {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;

    /* Text colors for dark backgrounds */
    --color-text-primary: #f7f8fa; /* toss-gray-100 on gray-900: 13.68:1 ✓ */
    --color-text-secondary: #dfe3e8; /* toss-gray-200 on gray-900: 11.73:1 ✓ */
    --color-text-tertiary: #c5cdd8; /* toss-gray-400 on gray-900: 8.17:1 ✓ */
    --color-text-disabled: #8a92a3; /* toss-gray-500 on gray-900: 4.67:1 ✓ */

    /* Background colors */
    --color-bg-primary: #191f28; /* toss-gray-900 */
    --color-bg-secondary: #202632; /* toss-gray-800 */
    --color-bg-tertiary: #2a3442; /* toss-gray-700 */
    --color-bg-hover: #333d4b; /* toss-gray-600 */

    /* Interactive colors adjusted for dark mode */
    --color-primary: #4b8fff; /* Lighter blue on dark: 4.5:1 ✓ */
    --color-primary-hover: #6ba1ff; /* Even lighter on hover */
    --color-success: #4ade80; /* green-400 on dark: 8.75:1 ✓ */
    --color-warning: #fb923c; /* orange-400 on dark: 6.34:1 ✓ */
    --color-error: #f87171; /* red-400 on dark: 5.84:1 ✓ */

    /* Borders and dividers for dark mode */
    --color-border-default: #333d4b; /* toss-gray-600 */
    --color-border-strong: #515866; /* toss-gray-500 */
    --color-border-focus: #4b8fff; /* Lighter blue */

    /* Dark Mode Elevation System - Enhanced Depth */
    --elevation-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
    --elevation-md: 0 4px 6px rgba(0, 0, 0, 0.4);
    --elevation-lg: 0 10px 20px rgba(0, 0, 0, 0.5);
    --elevation-xl: 0 15px 30px rgba(0, 0, 0, 0.6);
  }

  /* High Contrast Mode - Construction Site Optimized */
  .high-contrast {
    /* Maximum contrast for harsh lighting conditions */
    --color-text-primary: #000000; /* Pure black: 21:1 ✓ */
    --color-text-secondary: #000000;
    --color-text-tertiary: #333333; /* Dark gray: 12.63:1 ✓ */
    --color-text-disabled: #666666; /* Medium gray: 5.74:1 ✓ */

    /* High contrast backgrounds */
    --color-bg-primary: #ffffff;
    --color-bg-secondary: #f0f0f0;
    --color-bg-tertiary: #e0e0e0;
    --color-bg-hover: #d0d0d0;

    /* Bold interactive colors */
    --color-primary: #0052d9; /* Darker blue: 5.85:1 ✓ */
    --color-primary-hover: #003eb3; /* Even darker: 8.12:1 ✓ */
    --color-success: #008c00; /* Dark green: 5.26:1 ✓ */
    --color-warning: #d97706; /* Dark amber: 4.5:1 ✓ */
    --color-error: #b91c1c; /* Dark red: 8.85:1 ✓ */

    /* Strong borders for visibility */
    --color-border-default: #999999;
    --color-border-strong: #666666;
    --color-border-focus: #0052d9;

    /* Enhanced shadows for depth */
    --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.15);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.1);
  }

  /* High Contrast Dark Mode */
  .dark.high-contrast {
    /* Maximum contrast for dark mode */
    --color-text-primary: #ffffff; /* Pure white on black: 21:1 ✓ */
    --color-text-secondary: #ffffff;
    --color-text-tertiary: #cccccc; /* Light gray: 12.63:1 ✓ */
    --color-text-disabled: #999999; /* Medium gray: 5.74:1 ✓ */

    /* High contrast dark backgrounds */
    --color-bg-primary: #000000;
    --color-bg-secondary: #1a1a1a;
    --color-bg-tertiary: #2a2a2a;
    --color-bg-hover: #3a3a3a;

    /* Bright interactive colors for dark high contrast */
    --color-primary: #6ba1ff; /* Bright blue: 6.17:1 ✓ */
    --color-primary-hover: #85b3ff; /* Even brighter: 7.92:1 ✓ */
    --color-success: #66ff66; /* Bright green: 13.75:1 ✓ */
    --color-warning: #ffaa33; /* Bright orange: 8.24:1 ✓ */
    --color-error: #ff6666; /* Bright red: 5.67:1 ✓ */

    /* Strong borders for dark high contrast */
    --color-border-default: #666666;
    --color-border-strong: #999999;
    --color-border-focus: #6ba1ff;

    /* Radix UI Component Variables - Dark Mode */
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 142.1 76.2% 36.3%;
  }
}

@layer base {
  /* Enhanced font rendering for production quality */
  * {
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    text-rendering: optimizeLegibility !important;
    font-feature-settings:
      'kern' 1,
      'liga' 1,
      'calt' 1 !important;
    font-kerning: normal !important;
    font-synthesis: none !important;
  }

  /* High DPI screen optimization */
  @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    * {
      -webkit-font-smoothing: subpixel-antialiased;
    }
  }

  body {
    @apply bg-white text-toss-gray-900;
    font-family:
      var(--font-noto-sans-kr),
      system-ui,
      -apple-system,
      'Segoe UI',
      Roboto,
      'Apple SD Gothic Neo',
      'Malgun Gothic',
      sans-serif;
    font-size: 1.125rem; /* 18px - 기본 크기보다 더 크게 */
    line-height: 1.6; /* 더 나은 가독성을 위한 줄 간격 */
    /* Font optimization for production */
    font-synthesis: none;
    text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
    /* Prevent font boosting on mobile */
    max-height: 999999px;
  }
}

.dark body {
  @apply bg-toss-gray-900 text-toss-gray-100;
  font-size: 1.125rem; /* 18px - 기본 크기보다 더 크게 */
  line-height: 1.6; /* 더 나은 가독성을 위한 줄 간격 */
  /* Ensure font smoothing in dark mode */
  -webkit-font-smoothing: antialiased;
}

/* Ensure safe area for iOS devices */
.h-safe-area-inset-bottom {
  height: env(safe-area-inset-bottom);
}

/* Keyboard navigation indicator */
.keyboard-navigation *:focus {
  @apply outline-2 outline-offset-2 outline-toss-blue-500;
}

/* Focus-visible styles for all interactive elements */
@layer utilities {
  /* Remove default focus outline */
  *:focus {
    @apply outline-none;
  }

  /* Add focus-visible ring to all focusable elements */
  *:focus-visible {
    @apply ring-2 ring-toss-blue-500 ring-offset-2;
  }

  /* Enhanced focus for high contrast mode */
  .high-contrast *:focus-visible {
    @apply ring-4 ring-offset-4;
  }

  /* Custom focus styles for specific elements */
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    @apply ring-2 ring-toss-blue-500 ring-offset-2;
  }

  /* Skip link styles */
  .skip-link {
    @apply absolute -top-10 left-4 z-[100] bg-toss-blue-500 text-white px-4 py-2 rounded-lg;
    @apply focus:top-4 focus:outline-none focus:ring-2 focus:ring-toss-blue-500 focus:ring-offset-2;
    @apply transition-all duration-200;
  }
}

/* Theme Transition Animations */
@layer utilities {
  /* Smooth theme transitions */
  .theme-transition {
    transition:
      background-color 200ms ease-in-out,
      color 200ms ease-in-out,
      border-color 200ms ease-in-out;
  }

  /* Elevation utility classes */
  .elevation-sm {
    box-shadow: var(--elevation-sm);
  }

  .elevation-md {
    box-shadow: var(--elevation-md);
  }

  .elevation-lg {
    box-shadow: var(--elevation-lg);
  }

  .elevation-xl {
    box-shadow: var(--elevation-xl);
  }

  /* Interactive elevation changes */
  .elevation-hover {
    transition: box-shadow 150ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .elevation-hover:hover {
    box-shadow: var(--elevation-md);
  }

  /* Premium gradient backgrounds */
  .bg-premium-light {
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
  }

  .bg-premium-dark {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  }

  /* Surface elevation for depth */
  .surface-elevated {
    background: color-mix(in srgb, var(--color-bg-primary) 95%, var(--color-primary) 5%);
  }

  /* Enhanced typography for premium feel */
  .text-primary-strong {
    color: var(--color-text-primary);
    font-weight: 500;
    letter-spacing: -0.01em;
  }

  /* Construction field large font */
  .text-construction-xl {
    font-size: clamp(1.25rem, 2vw, 1.5rem);
    line-height: 1.4;
  }

  /* Emergency/Safety components */
  .pulse-animation {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulse {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  .shadow-danger {
    box-shadow: 0 0 20px rgba(220, 38, 38, 0.3);
  }
}

/* Custom select styles */
select {
  background-image: none;
}

/* Override browser default select styles */
select option {
  background-color: white !important;
  color: #202632 !important;
  padding: 8px !important;
}

select option:hover {
  background-color: #eff9ff !important; /* toss-blue-50 */
}

select option:checked {
  background-color: #dff0ff !important; /* toss-blue-100 */
}

.dark select option {
  background-color: #202632 !important; /* toss-gray-800 */
  color: #f7f8fa !important; /* toss-gray-100 */
}

.dark select option:hover {
  background-color: #2a3442 !important; /* slightly lighter than toss-gray-800 */
}

.dark select option:checked {
  background-color: #001a4d !important; /* toss-blue-900 */
}

/* For webkit browsers (Chrome, Safari) - more specific */
select:not([multiple]) option {
  background-color: white !important;
  color: #202632 !important;
}

.dark select:not([multiple]) option {
  background-color: #202632 !important;
  color: #f7f8fa !important;
}

/* Remove any gradient or image background */
select {
  background-image: none !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;
}

/* Focus state for select */
select:focus {
  outline: none;
  box-shadow:
    0 0 0 2px #0064ff,
    0 0 0 4px rgba(0, 100, 255, 0.1);
}

/* Large Font Mode CSS - Increased size for better accessibility */
.large-font-mode {
  font-size: 125%;
}

/* Line clamp utility */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Utility classes for applying WCAG-compliant colors */
@layer utilities {
  /* Text color utilities */
  .text-primary {
    color: var(--color-text-primary);
  }
  .text-secondary {
    color: var(--color-text-secondary);
  }
  .text-tertiary {
    color: var(--color-text-tertiary);
  }
  .text-disabled {
    color: var(--color-text-disabled);
  }

  /* Background color utilities */
  .bg-primary {
    background-color: var(--color-bg-primary);
  }
  .bg-secondary {
    background-color: var(--color-bg-secondary);
  }
  .bg-tertiary {
    background-color: var(--color-bg-tertiary);
  }
  .bg-hover {
    background-color: var(--color-bg-hover);
  }

  /* Interactive color utilities */
  .text-interactive-primary {
    color: var(--color-primary);
  }
  .text-interactive-success {
    color: var(--color-success);
  }
  .text-interactive-warning {
    color: var(--color-warning);
  }
  .text-interactive-error {
    color: var(--color-error);
  }

  .bg-interactive-primary {
    background-color: var(--color-primary);
  }
  .bg-interactive-success {
    background-color: var(--color-success);
  }
  .bg-interactive-warning {
    background-color: var(--color-warning);
  }
  .bg-interactive-error {
    background-color: var(--color-error);
  }

  /* Border utilities */
  .border-default {
    border-color: var(--color-border-default);
  }
  .border-strong {
    border-color: var(--color-border-strong);
  }
  .border-focus {
    border-color: var(--color-border-focus);
  }

  /* Focus visible utilities for keyboard navigation */
  .focus-visible-outline {
    @apply focus-visible:outline-2 focus-visible:outline-offset-2;
    outline-color: var(--color-border-focus);
  }

  /* High contrast mode specific utilities */
  .high-contrast {
    /* Increase font weights for better readability */
    .font-normal {
      @apply font-medium;
    }
    .font-medium {
      @apply font-semibold;
    }
    .font-semibold {
      @apply font-bold;
    }

    /* Thicker borders */
    .border {
      border-width: 2px;
    }
    .border-2 {
      border-width: 3px;
    }

    /* Enhanced focus states */
    .focus-visible-outline {
      @apply focus-visible:outline-4 focus-visible:outline-offset-4;
    }
  }
}

/* Status indicators with both color and icons */
@layer components {
  /* Success status */
  .status-success {
    @apply flex items-center gap-2;
    color: var(--color-success);
  }
  .status-success::before {
    content: '✓';
    @apply inline-block w-5 h-5 rounded-full text-white flex items-center justify-center text-xs font-bold;
    background-color: var(--color-success);
  }

  /* Warning status */
  .status-warning {
    @apply flex items-center gap-2;
    color: var(--color-warning);
  }
  .status-warning::before {
    content: '!';
    @apply inline-block w-5 h-5 rounded-full text-white flex items-center justify-center text-xs font-bold;
    background-color: var(--color-warning);
  }

  /* Error status */
  .status-error {
    @apply flex items-center gap-2;
    color: var(--color-error);
  }
  .status-error::before {
    content: '✕';
    @apply inline-block w-5 h-5 rounded-full text-white flex items-center justify-center text-xs font-bold;
    background-color: var(--color-error);
  }

  /* Info status */
  .status-info {
    @apply flex items-center gap-2;
    color: var(--color-primary);
  }
  .status-info::before {
    content: 'i';
    @apply inline-block w-5 h-5 rounded-full text-white flex items-center justify-center text-xs font-bold;
    background-color: var(--color-primary);
  }
}

/* Construction-specific enhancements */
@layer utilities {
  /* Sunlight readability mode */
  .sunlight-mode {
    /* Increase contrast and reduce glare */
    filter: contrast(1.2) brightness(0.9);

    /* Darker text shadows for better readability */
    text-shadow: 0 0 2px rgba(0, 0, 0, 0.3);
  }

  /* Glove-friendly touch targets */
  .touch-target-glove {
    @apply min-h-[60px] min-w-[60px];
  }

  /* Weather-resistant UI patterns */
  .weather-resistant {
    /* Larger fonts for rain/dust conditions */
    font-size: 1.1em;

    /* Stronger borders for visibility */
    border-width: 2px;

    /* Higher contrast backgrounds */
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
  }

  /* Environmental mode adaptations */
  .glove-mode {
    /* Larger touch targets for glove use */
    --min-touch-size: 56px;
  }

  .glove-mode button,
  .glove-mode input,
  .glove-mode select {
    min-height: var(--min-touch-size, 56px);
    min-width: var(--min-touch-size, 56px);
    padding: 0.75rem 1rem;
    font-weight: 600;
  }

  .precision-mode {
    /* Smaller, more precise touch targets */
    --min-touch-size: 44px;
  }

  .precision-mode button,
  .precision-mode input,
  .precision-mode select {
    min-height: var(--min-touch-size, 44px);
    font-weight: 500;
  }

  /* Environmental condition adaptations */
  .env-bright-sun {
    /* Enhanced contrast for bright sunlight */
    filter: contrast(1.3) brightness(1.1);
  }

  .env-rain {
    /* Larger elements for rain conditions */
    font-size: calc(1em * 1.1);
  }

  .env-rain button,
  .env-rain input {
    border-width: 3px;
    min-height: calc(var(--min-touch-size, 48px) + 8px);
  }

  .env-cold {
    /* Extra large touch targets for cold/glove conditions */
    font-size: calc(1em * 1.15);
  }

  .env-cold button,
  .env-cold input {
    min-height: calc(var(--min-touch-size, 48px) + 12px);
    border-width: 2px;
  }

  .env-dust {
    /* Enhanced visibility for dusty conditions */
    filter: contrast(1.25) brightness(1.05);
  }

  .env-dust button,
  .env-dust input {
    border-width: 2px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }
}

/* ========================================
   Role-Based UI Mode System
   Forces mobile or desktop UI based on user role
   ======================================== */

/* Mobile UI Force Mode - Pure Mobile Experience */
.force-mobile-ui {
  /* Container constraints for mobile UI */
  & .mobile-ui-container {
    max-width: 428px !important; /* iPhone 14 Pro Max width */
    margin: 0 auto;
    position: relative;
    min-height: 100vh;
  }

  /* Override Tailwind responsive classes to force mobile */
  & .md\:hidden {
    display: block !important;
  }
  & .md\:block {
    display: none !important;
  }
  & .md\:flex {
    display: none !important;
  }
  & .lg\:hidden {
    display: block !important;
  }
  & .lg\:block {
    display: none !important;
  }
  & .lg\:flex {
    display: none !important;
  }
  & .xl\:hidden {
    display: block !important;
  }
  & .xl\:block {
    display: none !important;
  }

  /* Force mobile grid layouts */
  & .md\:grid-cols-2,
  & .md\:grid-cols-3,
  & .md\:grid-cols-4,
  & .lg\:grid-cols-2,
  & .lg\:grid-cols-3,
  & .lg\:grid-cols-4,
  & .xl\:grid-cols-5,
  & .xl\:grid-cols-6 {
    grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
  }

  /* Force mobile flex layouts */
  & .md\:flex-row,
  & .lg\:flex-row {
    flex-direction: column !important;
  }

  /* Mobile navigation fixed at bottom */
  & nav[class*='bottom-0'],
  & .mobile-nav {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    z-index: 50 !important;
  }

  /* Hide desktop-only elements */
  & .desktop-only {
    display: none !important;
  }

  /* Mobile-optimized spacing */
  & .container {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }

  /* Mobile font sizes */
  & h1 {
    font-size: 1.875rem !important;
  }
  & h2 {
    font-size: 1.5rem !important;
  }
  & h3 {
    font-size: 1.25rem !important;
  }

  /* Mobile touch targets */
  & button,
  & a,
  & input,
  & select,
  & textarea {
    min-height: 44px;
  }
}

/* Desktop UI Force Mode - Fixed layout for admin/system_admin */
.force-desktop-ui {
  /* Force desktop layout on body */
  position: relative !important;
  min-width: 1536px !important;
  width: auto !important;
  height: auto !important;
  overflow-x: auto !important;
  overflow-y: auto !important;

  & .desktop-ui-container {
    min-width: 1536px !important;
    width: 1536px !important;
    margin: 0 auto;
  }

  /* Override ALL media queries to maintain desktop layout */
  @media all and (max-width: 1536px),
    all and (max-width: 1024px),
    all and (max-width: 768px),
    all and (max-width: 640px),
    all and (max-width: 480px),
    all and (max-width: 320px) {
    /* Force desktop dimensions regardless of actual screen size */
    min-width: 1536px !important;
    width: auto !important;

    & .desktop-ui-container {
      min-width: 1536px !important;
      width: 1536px !important;
    }
  }

  /* Override ALL Tailwind responsive classes to force desktop behavior */
  /* CRITICAL: Override mobile-specific hiding/showing regardless of screen size */
  @media all {
    /* Elements hidden on desktop should stay hidden */
    & .lg\:hidden,
    & .xl\:hidden {
      display: none !important;
    }

    /* Elements visible on desktop should stay visible */
    & .lg\:block,
    & .xl\:block {
      display: block !important;
    }

    & .lg\:flex,
    & .xl\:flex {
      display: flex !important;
    }

    & .lg\:inline-block,
    & .xl\:inline-block {
      display: inline-block !important;
    }

    & .lg\:inline-flex,
    & .xl\:inline-flex {
      display: inline-flex !important;
    }

    /* Hide elements that should only show on mobile/tablet */
    & .block.lg\:hidden,
    & .flex.lg\:hidden,
    & .inline-block.lg\:hidden,
    & .inline-flex.lg\:hidden {
      display: none !important;
    }

    /* Show elements that should be visible on desktop */
    & .hidden.lg\:block,
    & .hidden.lg\:flex,
    & .hidden.lg\:inline-block,
    & .hidden.lg\:inline-flex {
      display: block !important;
    }

    & .hidden.lg\:flex {
      display: flex !important;
    }

    & .hidden.lg\:inline-block {
      display: inline-block !important;
    }

    & .hidden.lg\:inline-flex {
      display: inline-flex !important;
    }
  }

  /* Force desktop widths and paddings */
  & .lg\:pl-72 {
    padding-left: 18rem !important; /* 72 * 0.25rem */
  }

  & .lg\:ml-72 {
    margin-left: 18rem !important;
  }

  /* Ensure sidebar is always visible in desktop mode */
  & .lg\:fixed {
    position: fixed !important;
  }

  & .lg\:inset-y-0 {
    top: 0 !important;
    bottom: 0 !important;
  }

  & .lg\:w-72 {
    width: 18rem !important;
  }

  /* Force desktop grid layouts regardless of screen size */
  @media all {
    & .grid {
      &.md\:grid-cols-2,
      &.lg\:grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
      }
      &.md\:grid-cols-3,
      &.lg\:grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
      }
      &.md\:grid-cols-4,
      &.lg\:grid-cols-4 {
        grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
      }
    }

    /* Force desktop flex layouts */
    & .flex-col {
      &.md\:flex-row,
      &.lg\:flex-row {
        flex-direction: row !important;
      }
    }
  }

  /* Desktop sidebar always visible */
  @media all {
    & aside,
    & .desktop-sidebar,
    & [class*='sidebar'] {
      display: block !important;
      position: sticky;
      top: 0;
      height: 100vh;
    }

    /* Hide mobile-only elements including navigation */
    & .mobile-only,
    & .mobile-nav,
    & .bottom-navigation,
    & [class*='mobile-menu'],
    & [class*='hamburger'] {
      display: none !important;
    }
  }

  /* Desktop-optimized spacing */
  & .container {
    max-width: 1536px !important;
    padding-left: 2rem !important;
    padding-right: 2rem !important;
  }
}

/* UI Mode Debug Indicator (Development Only) */
.ui-mode-debug {
  position: fixed;
  top: 10px;
  right: 10px;
  background: rgba(0, 0, 0, 0.85);
  color: white;
  padding: 8px 12px;
  border-radius: 8px;
  font-size: 11px;
  font-family: monospace;
  z-index: 9999;
  pointer-events: auto;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

/* Smooth transitions for UI mode changes */
.mobile-ui-container,
.desktop-ui-container {
  transition: all 0.3s ease-in-out;
}

/* CRITICAL: Force Desktop UI - ABSOLUTE OVERRIDE SYSTEM */
/* This ensures admin/system_admin users ALWAYS see desktop layout on ALL devices */

/* Apply to both html and body for complete override */
html.force-desktop-ui {
  min-width: 1536px !important;
  overflow-x: auto !important;
  overflow-y: visible !important;
}

body.force-desktop-ui {
  /* Force desktop viewport behavior on ALL screen sizes */
  position: relative !important;
  min-width: 1536px !important;
  width: auto !important;
  height: auto !important;
  overflow-x: auto !important;
  overflow-y: visible !important;

  /* Disable ANY mobile constraints */
  max-width: none !important;
  -webkit-overflow-scrolling: touch !important;

  /* Override Tailwind's responsive utilities */
  * {
    /* Elements that should be hidden on desktop remain hidden */
    &.lg\\:hidden {
      display: none !important;
    }
    &.xl\\:hidden {
      display: none !important;
    }

    /* Elements visible on desktop remain visible */
    &.lg\\:block {
      display: block !important;
    }
    &.xl\\:block {
      display: block !important;
    }
    &.lg\\:flex {
      display: flex !important;
    }
    &.xl\\:flex {
      display: flex !important;
    }
    &.lg\\:inline-block {
      display: inline-block !important;
    }
    &.xl\\:inline-block {
      display: inline-block !important;
    }
    &.lg\\:inline-flex {
      display: inline-flex !important;
    }
    &.xl\\:inline-flex {
      display: inline-flex !important;
    }
    &.lg\\:grid {
      display: grid !important;
    }
    &.xl\\:grid {
      display: grid !important;
    }

    /* Force desktop layout values */
    &.lg\\:w-72 {
      width: 18rem !important;
    }
    &.lg\\:pl-72 {
      padding-left: 18rem !important;
    }
    &.lg\\:ml-72 {
      margin-left: 18rem !important;
    }
    &.lg\\:fixed {
      position: fixed !important;
    }
    &.lg\\:sticky {
      position: sticky !important;
    }
    &.lg\\:relative {
      position: relative !important;
    }
    &.lg\\:absolute {
      position: absolute !important;
    }

    /* Force desktop grid columns */
    &.lg\\:grid-cols-2 {
      grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    }
    &.lg\\:grid-cols-3 {
      grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
    }
    &.lg\\:grid-cols-4 {
      grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
    }

    /* Force desktop flex directions */
    &.lg\\:flex-row {
      flex-direction: row !important;
    }
    &.lg\\:flex-col {
      flex-direction: column !important;
    }
  }

  /* Hide ALL mobile-specific elements */
  .block:not(.lg\\:block):not(.xl\\:block),
  .flex:not(.lg\\:flex):not(.xl\\:flex) {
    &.lg\\:hidden {
      display: none !important;
    }
  }

  /* Force show desktop-only elements */
  .hidden {
    &.lg\\:block {
      display: block !important;
    }
    &.lg\\:flex {
      display: flex !important;
    }
    &.lg\\:inline-block {
      display: inline-block !important;
    }
    &.lg\\:inline-flex {
      display: inline-flex !important;
    }
    &.lg\\:grid {
      display: grid !important;
    }
  }
}

/* ============================================== */
/* ULTRA CRITICAL: ABSOLUTE DESKTOP FORCE MODE   */
/* This MUST be at the end for highest priority  */
/* ============================================== */

/* Apply to ALL elements when force-desktop-ui is active */
.force-desktop-ui,
.force-desktop-ui *,
html.force-desktop-ui,
html.force-desktop-ui *,
body.force-desktop-ui,
body.force-desktop-ui * {
  /* Disable ALL transforms that might be used for mobile menus */
  transform: none !important;

  /* Ensure nothing can hide desktop content */
  visibility: visible !important;
  opacity: 1 !important;
}

/* AGGRESSIVE: Override ALL media queries completely */
@media all {
  html.force-desktop-ui,
  body.force-desktop-ui,
  .force-desktop-ui {
    /* Force minimum desktop width */
    min-width: 1536px !important;
    width: auto !important;

    /* Allow scrolling */
    overflow-x: auto !important;
    overflow-y: visible !important;

    /* Disable mobile viewport constraints */
    position: relative !important;
    height: auto !important;
    max-width: none !important;
  }

  /* Main content areas MUST maintain desktop width */
  .force-desktop-ui main,
  .force-desktop-ui .main-content,
  .force-desktop-ui #__next,
  .force-desktop-ui .desktop-ui-container {
    min-width: 1536px !important;
    width: auto !important;
    max-width: none !important;
  }

  /* FORCE all responsive utilities to desktop values */
  .force-desktop-ui {
    /* Hide mobile-only elements NO MATTER WHAT */
    .sm\:block:not(.lg\:block):not(.xl\:block),
    .sm\:flex:not(.lg\:flex):not(.xl\:flex),
    .md\:block:not(.lg\:block):not(.xl\:block),
    .md\:flex:not(.lg\:flex):not(.xl\:flex),
    .block.lg\:hidden,
    .flex.lg\:hidden,
    .lg\:hidden,
    .xl\:hidden,
    .mobile-nav,
    .mobile-menu,
    .mobile-only,
    .bottom-navigation,
    [class*='mobile-only'],
    [class*='mobile-menu'],
    [class*='hamburger']:not(.admin-hamburger) {
      display: none !important;
    }

    /* FORCE show desktop elements */
    .hidden.lg\:block,
    .hidden.xl\:block,
    .hidden.2xl\:block {
      display: block !important;
    }
    .hidden.lg\:flex,
    .hidden.xl\:flex,
    .hidden.2xl\:flex {
      display: flex !important;
    }
    .hidden.lg\:inline-block,
    .hidden.xl\:inline-block,
    .hidden.2xl\:inline-block {
      display: inline-block !important;
    }
    .hidden.lg\:inline-flex,
    .hidden.xl\:inline-flex,
    .hidden.2xl\:inline-flex {
      display: inline-flex !important;
    }
    .hidden.lg\:grid,
    .hidden.xl\:grid,
    .hidden.2xl\:grid {
      display: grid !important;
    }

    /* FORCE desktop layout values */
    .lg\:w-72 {
      width: 18rem !important;
    }
    .lg\:w-64 {
      width: 16rem !important;
    }
    .lg\:w-60 {
      width: 15rem !important;
    }
    .lg\:w-16 {
      width: 4rem !important;
    }
    .lg\:w-0 {
      width: 0 !important;
    }

    .lg\:pl-72 {
      padding-left: 18rem !important;
    }
    .lg\:pl-64 {
      padding-left: 16rem !important;
    }
    .lg\:pl-60 {
      padding-left: 15rem !important;
    }
    .lg\:pl-16 {
      padding-left: 4rem !important;
    }
    .lg\:pl-0 {
      padding-left: 0 !important;
    }

    .lg\:ml-72 {
      margin-left: 18rem !important;
    }
    .lg\:ml-64 {
      margin-left: 16rem !important;
    }
    .lg\:ml-60 {
      margin-left: 15rem !important;
    }
    .lg\:ml-16 {
      margin-left: 4rem !important;
    }
    .lg\:ml-0 {
      margin-left: 0 !important;
    }

    /* FORCE desktop positions */
    .lg\:fixed {
      position: fixed !important;
    }
    .lg\:absolute {
      position: absolute !important;
    }
    .lg\:relative {
      position: relative !important;
    }
    .lg\:sticky {
      position: sticky !important;
    }
    .lg\:static {
      position: static !important;
    }

    /* FORCE desktop grid columns */
    .grid.lg\:grid-cols-2 {
      grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    }
    .grid.lg\:grid-cols-3 {
      grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
    }
    .grid.lg\:grid-cols-4 {
      grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
    }
    .grid.lg\:grid-cols-5 {
      grid-template-columns: repeat(5, minmax(0, 1fr)) !important;
    }
    .grid.lg\:grid-cols-6 {
      grid-template-columns: repeat(6, minmax(0, 1fr)) !important;
    }

    /* FORCE desktop flex directions */
    .lg\:flex-row {
      flex-direction: row !important;
    }
    .lg\:flex-col {
      flex-direction: column !important;
    }
  }
}

/* Disable ALL mobile-specific body fixes when in desktop mode */
@media (max-width: 99999px) {
  body.force-desktop-ui {
    position: relative !important;
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
  }

  body.force-desktop-ui #__next {
    height: auto !important;
    overflow: visible !important;
    display: block !important;
  }
}

/* ============================================== */
/* ADMIN DASHBOARD SPECIFIC DESKTOP OVERRIDES    */
/* ============================================== */
.force-desktop-ui {
  /* Remove ALL responsive breakpoint behaviors */
  [class*='sm:'],
  [class*='md:']:not([class*='lg:']):not([class*='xl:']) {
    all: unset !important;
  }

  /* Admin layout specific fixes */
  .admin-dashboard-layout {
    min-width: 1536px !important;
    display: flex !important;
  }

  /* Remove container max-width restrictions */
  .container,
  [class*='max-w-'] {
    max-width: none !important;
    width: 100% !important;
  }

  /* Tables must stay as tables */
  table {
    display: table !important;
  }
  thead {
    display: table-header-group !important;
  }
  tbody {
    display: table-row-group !important;
  }
  tr {
    display: table-row !important;
  }
  th,
  td {
    display: table-cell !important;
    white-space: nowrap !important;
  }

  /* Prevent ANY responsive grid changes */
  [class*='grid-cols-'] {
    grid-template-columns: inherit !important;
  }
  .grid-cols-1 {
    grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
  }
  .grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }
  .grid-cols-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
  }
  .grid-cols-4 {
    grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
  }

  /* Admin sidebar must always be visible */
  .admin-sidebar {
    display: flex !important;
    position: fixed !important;
    transform: translateX(0) !important;
  }

  /* Remove ALL mobile menu related elements */
  [aria-label*='mobile'],
  [aria-label*='Mobile'],
  .mobile-menu-trigger,
  .mobile-backdrop {
    display: none !important;
  }
}

/* ========================================
   TOAST NOTIFICATIONS
   ======================================== */

@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slideOutRight {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

.animate-slideIn {
  animation: slideInRight 0.3s ease-out forwards;
}

.animate-slideOut {
  animation: slideOutRight 0.3s ease-out forwards;
}

/* ========================================
   HTML REFERENCE STYLES INTEGRATION
   Exact matching with worklog.html
   ======================================== */

/* Line Tabs Navigation - HTML Reference Style */
.line-tabs {
  display: flex;
  border-bottom: 1px solid #e5e7eb;
  margin-bottom: 16px;
  background: #ffffff;
}

.line-tab {
  flex: 1;
  padding: 12px 16px;
  text-align: center;
  background: none;
  border: none;
  color: #6b7280;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  position: relative;
  transition: all 0.2s ease;
}

.line-tab.active {
  color: var(--brand);
  font-weight: 600;
}

.line-tab.active::after {
  content: '';
  position: absolute;
  bottom: -1px;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--brand);
  border-radius: 1px 1px 0 0;
}

/* Calendar Wrapper - HTML Reference Style */
.cal-wrap {
  background: #ffffff;
  border-radius: 8px;
  border: 1px solid #e5e7eb;
  overflow: hidden;
}

.cal-header {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  background: #f9fafb;
  border-bottom: 1px solid #e5e7eb;
}

.cal-header-cell {
  padding: 8px;
  text-align: center;
  font-size: 12px;
  font-weight: 600;
  color: #374151;
  border-right: 1px solid #e5e7eb;
}

.cal-header-cell:last-child {
  border-right: none;
}

.cal-body {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
}

.cal-cell {
  aspect-ratio: 1;
  border-right: 1px solid #e5e7eb;
  border-bottom: 1px solid #e5e7eb;
  padding: 4px;
  position: relative;
  background: #ffffff;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.cal-cell:nth-child(7n) {
  border-right: none;
}

.cal-cell:hover {
  background: #f3f4f6;
}

.cal-cell.today {
  background: #eff6ff;
}

.cal-cell.has-work {
  background: var(--stat-blue-bg);
}

.cal-cell-date {
  font-size: 12px;
  font-weight: 500;
  color: #374151;
  margin-bottom: 2px;
}

.cal-cell.today .cal-cell-date {
  color: var(--brand);
  font-weight: 600;
}

/* Statistics Cards - HTML Reference Exact Colors and Spacing */
.stat-workdays {
  background: var(--stat-orange-bg);
  border: 1px solid var(--stat-orange-border);
  color: var(--stat-orange);
  padding: 16px 12px;
}

.stat-workdays .stat-number {
  color: var(--stat-orange);
}

.stat-sites {
  background: var(--stat-green-bg);
  border: 1px solid var(--stat-green-border);
  color: var(--stat-green);
  padding: 16px 12px;
}

.stat-sites .stat-number {
  color: var(--stat-green);
}

.stat-hours {
  background: var(--stat-blue-bg);
  border: 1px solid var(--stat-blue-border);
  color: var(--stat-blue);
  padding: 16px 12px;
}

.stat-hours .stat-number {
  color: var(--stat-blue);
}

/* HTML Reference Container Spacing */
.monthly-stats-section {
  padding: 18px 20px;
  margin: 16px 20px;
}

.stat-head {
  margin-bottom: 12px;
  gap: 10px;
}

/* HTML Reference Calendar Header Spacing */
.cal-wrap {
  background: #ffffff;
  border-radius: 8px;
  border: 1px solid #e5e7eb;
  overflow: hidden;
  margin: 18px 20px;
}

/* Site Filter Section - HTML Reference Spacing */
.site-filter-section {
  padding: 18px 20px;
  background: #ffffff;
  border-bottom: 1px solid #e6eaf2;
}

/* HTML Reference Typography - Exact Match */
.worklog-body {
  font-family:
    'Noto Sans KR',
    system-ui,
    -apple-system,
    Segoe UI,
    Roboto,
    Apple SD Gothic Neo,
    Malgun Gothic,
    sans-serif;
  font-size: 15px;
  font-weight: 200;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

.worklog-body.fs-100 {
  font-size: 15px;
  font-weight: 200;
  font-family:
    'Noto Sans KR',
    system-ui,
    -apple-system,
    Segoe UI,
    Roboto,
    Apple SD Gothic Neo,
    Malgun Gothic,
    sans-serif;
}

.worklog-body.fs-150 * {
  font-size: 27px; /* 15px * 1.8 = 27px */
  font-weight: 200;
  font-family:
    'Noto Sans KR',
    system-ui,
    -apple-system,
    Segoe UI,
    Roboto,
    Apple SD Gothic Neo,
    Malgun Gothic,
    sans-serif;
}

/* Stat Title Typography - HTML Reference */
.stat-title {
  font-family: 'Noto Sans KR', system-ui, sans-serif;
  font-weight: 700;
  font-size: 17px;
  color: var(--brand);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Stat Numbers Typography - HTML Reference */
.stat-number {
  font-size: 24px;
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: -0.1px;
}

.label {
  font-size: 14px;
  line-height: 1.2;
  letter-spacing: -0.1px;
  font-weight: 500;
  color: #6b7280;
}

/* Button Typography - HTML Reference */
.btn-plain {
  background: none;
  border: none;
  padding: 0 6px;
  font-weight: 700;
  font-size: 14px;
  line-height: 1;
  cursor: pointer;
  color: var(--text);
}

/* HTML Requirements - Exact Tab Styles */
.tabs {
  display: grid;
  grid-template-columns: 1fr 1fr;
  border-bottom: 2px solid #E5EAF3;
  background: transparent;
  width: 100%;
  max-width: 400px;
  margin: 0 auto;
}

.tab {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px 16px;
  font-size: 17px !important;
  font-weight: 600 !important;
  color: #1A254F !important;
  font-family: "Noto Sans KR", system-ui, sans-serif !important;
  cursor: pointer;
  transition: all 0.2s ease;
  border: none;
  background: transparent;
  min-height: 48px;
}

.tab::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 2px;
  background: transparent;
}

.tab.active {
  color: var(--ink);
}

.tab.active::after {
  background: #1A254F;
}

/* HTML Requirements - Work Log Card Styles */
.worklog-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.worklog-card {
  background: var(--card);
  border-radius: 12px;
  padding: 16px;
  box-shadow: var(--shadow);
  border: 1px solid var(--line);
  cursor: pointer;
  transition: all 0.2s ease;
  border-bottom: 1px solid #e5e7eb;
}

.worklog-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(16,24,40,0.1);
}

.worklog-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 8px;
}

.worklog-header-left {
  display: flex;
  align-items: center;
  gap: 8px;
}

.worklog-site {
  font-family: "Noto Sans KR", system-ui, sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: #1A254F;
}

.worklog-detail-btn {
  background: rgba(41, 52, 208, 0.15);
  color: #2934D0;
  border: none;
  border-radius: 16px;
  padding: 6px 12px;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.worklog-detail-btn:hover {
  background: rgba(41, 52, 208, 0.25);
}

.worklog-info-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.worklog-author {
  font-family: "Noto Sans KR", system-ui, sans-serif;
  color: var(--text-muted);
  font-size: 14px;
  font-weight: 500;
}

.worklog-date {
  font-family: "Noto Sans KR", system-ui, sans-serif;
  font-size: 14px;
  color: var(--muted);
  font-weight: 500;
}

.worklog-details {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.worklog-detail-line {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-family: "Noto Sans KR", system-ui, sans-serif;
  font-size: 14px;
  color: var(--text);
}

.worklog-detail-label {
  font-family: "Noto Sans KR", system-ui, sans-serif;
  font-weight: 500;
  color: var(--text-muted);
  font-size: 14px;
}

.worklog-detail-value {
  font-family: "Noto Sans KR", system-ui, sans-serif;
  color: var(--text);
  font-size: 14px;
  font-weight: 500;
}

/* Status Tag Styles */
.status-tag {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 12px;
  border-radius: 16px;
  font-size: 13px;
  font-weight: 600;
  font-family: "Noto Sans KR", system-ui, sans-serif;
  white-space: nowrap;
  height: 28px;
  box-sizing: border-box;
}

.status-tag.draft {
  background: rgba(255, 45, 128, 0.15);
  color: #FF2980;
}

.status-tag.approved {
  background: rgba(34, 197, 94, 0.15);
  color: #22c55e;
}
