ğŸ“‹ ë„¤ë¹„ê²Œì´ì…˜ ë¦¬íŒ©í† ë§ & ì½”ë“œë² ì´ìŠ¤ Clean-up êµ¬í˜„ ê³„íšì„œ

  1. í”„ë¡œì íŠ¸ ê°œìš”

  1.1 í˜„ì¬ ìƒí™©

  - ë¬¸ì œ: React Error #185 (ë¬´í•œ ìˆœí™˜ ì°¸ì¡°) ì§€ì† ë°œìƒ
  - ì›ì¸: ë³µì¡í•œ ë„¤ë¹„ê²Œì´ì…˜ ì‹œìŠ¤í…œì˜ ìˆœí™˜ ì˜ì¡´ì„±
  - ì˜í–¥: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ documents íƒ­ ì ‘ê·¼ ì‹œ ì•± í¬ë˜ì‹œ

  1.2 ëª©í‘œ

  - React Error #185 ì™„ì „ í•´ê²°
  - ë„¤ë¹„ê²Œì´ì…˜ ì‹œìŠ¤í…œ ë‹¨ìˆœí™”
  - ì½”ë“œë² ì´ìŠ¤ 30% ì¶•ì†Œ
  - ì„±ëŠ¥ ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

  2. ê¸°ìˆ  ì•„í‚¤í…ì²˜ ë³€ê²½ì‚¬í•­

  2.1 Before (í˜„ì¬)

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚         Dashboard Layout             â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚  Hash Navigation (#docs)     â”‚    â”‚
  â”‚  â”‚  Path Navigation (/docs)     â”‚    â”‚
  â”‚  â”‚  State Management (activeTab)â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚              â†“â†‘ ìˆœí™˜ì°¸ì¡°             â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚  DocumentsTabUnified         â”‚    â”‚
  â”‚  â”‚  - onTabChange prop          â”‚    â”‚
  â”‚  â”‚  - Internal state            â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  2.2 After (ëª©í‘œ)

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚         Dashboard Layout             â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚  URL-based Navigation Only   â”‚    â”‚
  â”‚  â”‚  (/dashboard/documents)      â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â†“ ë‹¨ë°©í–¥
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚     Documents Page (ë…ë¦½)            â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚  Query Params (?tab=personal)â”‚    â”‚
  â”‚  â”‚  Internal State Only         â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  3. ìƒì„¸ êµ¬í˜„ ê³„íš

  Phase 1: ê¸´ê¸‰ ìˆ˜ì • (Day 1)

  ëª©í‘œ: React Error #185 ì¦‰ì‹œ í•´ê²°

  Task 1.1: Documents í˜ì´ì§€ ë…ë¦½í™”

  // /app/dashboard/documents/page.tsx
  - ì„œë²„ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì œê±°
  - í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ì „í™˜
  - ìì²´ ë ˆì´ì•„ì›ƒ êµ¬í˜„
  - DocumentsTabUnified ì§ì ‘ ë Œë”ë§

  Task 1.2: ìˆœí™˜ ì˜ì¡´ì„± ì œê±°

  // /components/dashboard/tabs/documents-tab-unified.tsx
  - onTabChange prop ì™„ì „ ì œê±°
  - useSearchParams() ì‚¬ìš©ìœ¼ë¡œ ì „í™˜
  - ë‚´ë¶€ ìƒíƒœë§Œìœ¼ë¡œ ê´€ë¦¬

  Task 1.3: Navigation ì»´í¬ë„ŒíŠ¸ ìˆ˜ì •

  // /components/ui/bottom-navigation.tsx
  - React.cloneElement ì œê±°
  - ì•ˆì „í•œ ì§ì ‘ ë Œë”ë§ êµ¬í˜„

  // /components/dashboard/sidebar.tsx  
  - Hash ë„¤ë¹„ê²Œì´ì…˜ ë¡œì§ ì œê±°
  - ì§ì ‘ path ë¼ìš°íŒ…ìœ¼ë¡œ ë³€ê²½

  Task 1.4: Dashboard Layout ì •ë¦¬

  // /components/dashboard/dashboard-layout.tsx
  - documents-unified ì¼€ì´ìŠ¤ ì œê±°
  - hashchange ë¦¬ìŠ¤ë„ˆ ì œê±°
  - useEffect í†µí•© (2ê°œ â†’ 1ê°œ)

  Phase 2: ì½”ë“œ ì •ë¦¬ (Day 2-3)

  Task 2.1: ë””ë²„ê¹… ì½”ë“œ ì œê±°

  # Console.log ì¼ê´„ ì œê±° ìŠ¤í¬ë¦½íŠ¸
  - 243ê°œ íŒŒì¼ì—ì„œ 1,149ê°œ console.log ì œê±°
  - í”„ë¡œë•ì…˜ ë¹Œë“œìš© babel í”ŒëŸ¬ê·¸ì¸ ì„¤ì •

  Task 2.2: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” íŒŒì¼ ì‚­ì œ

  # ì •ë¦¬ ëŒ€ìƒ
  - /components/daily-reports/.deprecated/* (7ê°œ íŒŒì¼)
  - *.bak, *.backup íŒŒì¼
  - ì¤‘ë³µ ì»´í¬ë„ŒíŠ¸ë“¤

  Task 2.3: ì»´í¬ë„ŒíŠ¸ í†µí•©

  | í˜„ì¬ (ì¤‘ë³µ)                                      | í†µí•© í›„                  |
  |----------------------------------------------|-----------------------|
  | documents-tab.tsx, documents-tab-unified.tsx | documents-page.tsx    |
  | my-documents.tsx, my-documents-improved.tsx  | my-documents.tsx      |
  | daily-report-form ë³€ì¢… 5ê°œ                      | daily-report-form.tsx |

  Task 2.4: Import ì •ë¦¬

  // ESLint ê·œì¹™ ì¶”ê°€
  "no-unused-vars": "error",
  "no-unused-imports": "error",
  "import/order": ["error", {
    "groups": ["builtin", "external", "internal"]
  }]

  Phase 3: ìµœì í™” (Day 4-5)

  Task 3.1: ë²ˆë“¤ ë¶„ì„ ë° ìµœì í™”

  # ë²ˆë“¤ ë¶„ì„
  npm run analyze

  # ìµœì í™” ëª©í‘œ
  - Tree shaking ê°œì„ 
  - Dynamic imports ì¶”ê°€
  - ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„± ì œê±°

  Task 3.2: ì„±ëŠ¥ ìµœì í™”

  // React ìµœì í™”
  - React.memo ì ìš© (15ê°œ ì£¼ìš” ì»´í¬ë„ŒíŠ¸)
  - useMemo/useCallback í™œìš©
  - ì»´í¬ë„ŒíŠ¸ lazy loading í™•ëŒ€

  Task 3.3: íƒ€ì… ì•ˆì „ì„± ê°•í™”

  // tsconfig.json
  {
    "compilerOptions": {
      "strict": true,
      "noImplicitAny": true,
      "strictNullChecks": true
    }
  }

  4. í…ŒìŠ¤íŠ¸ ê³„íš

  4.1 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

  // ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ ì¶”ê°€
  - navigation-state.test.ts
  - documents-page.test.tsx
  - error-boundary.test.tsx

  4.2 í†µí•© í…ŒìŠ¤íŠ¸

  // E2E í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
  1. Dashboard â†’ Documents ë„¤ë¹„ê²Œì´ì…˜
  2. Documents ë‚´ë¶€ íƒ­ ì „í™˜
  3. ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸
  4. ì—ëŸ¬ ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤

  4.3 ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

  - Lighthouse ì ìˆ˜ ì¸¡ì •
  - ë²ˆë“¤ í¬ê¸° ë¹„êµ
  - ì´ˆê¸° ë¡œë”© ì‹œê°„ ì¸¡ì •
  - ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§

  5. ìœ„í—˜ ê´€ë¦¬

  5.1 ì ì¬ ìœ„í—˜

  | ìœ„í—˜            | ì˜í–¥ë„ | ëŒ€ì‘ ë°©ì•ˆ       |
  |---------------|-----|-------------|
  | ê¸°ì¡´ ë¶ë§ˆí¬ URL ê¹¨ì§ | ì¤‘   | ë¦¬ë‹¤ì´ë ‰íŠ¸ ê·œì¹™ ì¶”ê°€ |
  | ì‚¬ìš©ì ì›Œí¬í”Œë¡œìš° ë³€ê²½  | ì¤‘   | ë‹¨ê³„ë³„ ë°°í¬      |
  | ì˜ˆìƒì¹˜ ëª»í•œ ì˜ì¡´ì„±    | ë†’   | ì² ì €í•œ í…ŒìŠ¤íŠ¸     |

  5.2 ë¡¤ë°± ê³„íš

  # Git íƒœê·¸ ê¸°ë°˜ ë¡¤ë°±
  git tag pre-refactor-backup
  git push origin pre-refactor-backup

  # ë¬¸ì œ ë°œìƒ ì‹œ
  git revert --no-commit HEAD~5..HEAD

  6. ì¼ì • ê³„íš

  ì „ì²´ ì¼ì •: 5ì¼

  | ì¼ì°¨    | ì‘ì—… ë‚´ìš©                   | ì™„ë£Œ ê¸°ì¤€          |
  |-------|-------------------------|----------------|
  | Day 1 | Phase 1 (ê¸´ê¸‰ ìˆ˜ì •)         | Error #185 í•´ê²°  |
  | Day 2 | Phase 2.1-2.2 (ì½”ë“œ ì •ë¦¬)   | Console.log ì œê±° |
  | Day 3 | Phase 2.3-2.4 (ì»´í¬ë„ŒíŠ¸ í†µí•©) | ì¤‘ë³µ ì œê±° ì™„ë£Œ       |
  | Day 4 | Phase 3 (ìµœì í™”)           | ë²ˆë“¤ 25% ê°ì†Œ      |
  | Day 5 | í…ŒìŠ¤íŠ¸ & ë°°í¬                | í”„ë¡œë•ì…˜ ë°°í¬        |

  7. ì˜ˆìƒ ê²°ê³¼

  7.1 ì •ëŸ‰ì  ì§€í‘œ

  - ì½”ë“œ ë¼ì¸ ìˆ˜: 30% ê°ì†Œ (ì•½ 10,000ì¤„)
  - ë²ˆë“¤ í¬ê¸°: 25% ê°ì†Œ (2.5MB â†’ 1.9MB)
  - ë¹Œë“œ ì‹œê°„: 40% ë‹¨ì¶• (3ë¶„ â†’ 1.8ë¶„)
  - Lighthouse ì ìˆ˜: 85 â†’ 95

  7.2 ì •ì„±ì  ê°œì„ 

  - ë„¤ë¹„ê²Œì´ì…˜ ë¡œì§ ë‹¨ìˆœí™”
  - ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
  - ê°œë°œì ê²½í—˜ ê°œì„ 
  - ë²„ê·¸ ë°œìƒ ê°€ëŠ¥ì„± ê°ì†Œ

  8. íŒ€ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜

  8.1 ì´í•´ê´€ê³„ì í†µë³´

  - PM: ì¼ì • ë° ì˜í–¥ ë²”ìœ„ ê³µìœ 
  - QA: í…ŒìŠ¤íŠ¸ ê³„íš í˜‘ì˜
  - DevOps: ë°°í¬ ì¼ì • ì¡°ìœ¨

  8.2 ë¬¸ì„œí™”

  - ë³€ê²½ì‚¬í•­ ë¬¸ì„œ ì‘ì„±
  - ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ ì œê³µ
  - API ë³€ê²½ì‚¬í•­ ê³µì§€

  9. ì„±ê³µ ê¸°ì¤€

  âœ… React Error #185 ì™„ì „ í•´ê²°âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼âœ… ì„±ëŠ¥ ì§€í‘œ ëª©í‘œ ë‹¬ì„±âœ… í”„ë¡œë•ì…˜ ë°°í¬
  í›„ 24ì‹œê°„ ì•ˆì •ì„± í™•ì¸âœ… ì‚¬ìš©ì í”¼ë“œë°± ê¸ì •ì 

  10. ì°¸ê³  ìë£Œ

  - https://react.dev/errors/185
  - https://nextjs.org/docs/app
  - https://github.com/vercel/next.js/tree/canary/packages/next-bundle-analyzer

  ---
  ì‘ì„±ì¼: 2024ë…„ 9ì›” 11ì¼ì‘ì„±ì: Claude AssistantìŠ¹ì¸ ëŒ€ê¸°: í”„ë¡œì íŠ¸ ê´€ë¦¬ì

