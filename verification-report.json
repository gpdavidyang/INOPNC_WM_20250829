{
  "timestamp": "2025-09-10T00:59:10.459Z",
  "summary": {
    "totalChecks": 73,
    "passed": 70,
    "failed": 1,
    "warnings": 3
  },
  "details": {
    "schemaValidation": [],
    "fieldMapping": [
      {
        "component": "UnifiedDocumentViewer",
        "field": "id",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "UnifiedDocumentViewer",
        "field": "title",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "UnifiedDocumentViewer",
        "field": "file_name",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "UnifiedDocumentViewer",
        "field": "category_type",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "UnifiedDocumentViewer",
        "field": "status",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "UnifiedDocumentViewer",
        "field": "created_at",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "UnifiedDocumentViewer",
        "field": "description",
        "required": false,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "UnifiedDocumentViewer",
        "field": "site",
        "required": false,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "UnifiedDocumentViewer",
        "field": "customer_company",
        "required": false,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "UnifiedDocumentViewer",
        "field": "uploader",
        "required": false,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "GeneralUserView",
        "field": "id",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "GeneralUserView",
        "field": "title",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "GeneralUserView",
        "field": "file_name",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "GeneralUserView",
        "field": "category_type",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "GeneralUserView",
        "field": "workflow_status",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "GeneralUserView",
        "field": "created_at",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "GeneralUserView",
        "field": "description",
        "required": false,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "GeneralUserView",
        "field": "site",
        "required": false,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "GeneralUserView",
        "field": "uploader",
        "required": false,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "GeneralUserView",
        "field": "file_size",
        "required": false,
        "exists": false,
        "status": "⚠️"
      },
      {
        "component": "PartnerView",
        "field": "id",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "PartnerView",
        "field": "title",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "PartnerView",
        "field": "file_name",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "PartnerView",
        "field": "category_type",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "PartnerView",
        "field": "customer_company_id",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "PartnerView",
        "field": "workflow_status",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "PartnerView",
        "field": "metadata.amount",
        "required": false,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "PartnerView",
        "field": "site",
        "required": false,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "PartnerView",
        "field": "created_at",
        "required": false,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "AdminView",
        "field": "id",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "AdminView",
        "field": "title",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "AdminView",
        "field": "category_type",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "AdminView",
        "field": "workflow_status",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "AdminView",
        "field": "uploaded_by",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "AdminView",
        "field": "created_at",
        "required": true,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "AdminView",
        "field": "approved_by",
        "required": false,
        "exists": false,
        "status": "⚠️"
      },
      {
        "component": "AdminView",
        "field": "approved_at",
        "required": false,
        "exists": false,
        "status": "⚠️"
      },
      {
        "component": "AdminView",
        "field": "site",
        "required": false,
        "exists": true,
        "status": "✅"
      },
      {
        "component": "AdminView",
        "field": "customer_company",
        "required": false,
        "exists": true,
        "status": "✅"
      }
    ],
    "roleCompatibility": [
      {
        "role": "worker",
        "permission": "canViewAll",
        "expected": true,
        "actual": true,
        "status": "✅"
      },
      {
        "role": "worker",
        "permission": "canEditOwn",
        "expected": true,
        "actual": true,
        "status": "✅"
      },
      {
        "role": "worker",
        "permission": "canApprove",
        "expected": false,
        "actual": true,
        "status": "✅"
      },
      {
        "role": "worker",
        "permission": "siteRestriction",
        "expected": false,
        "actual": true,
        "status": "✅"
      },
      {
        "role": "site_manager",
        "permission": "canViewAll",
        "expected": true,
        "actual": true,
        "status": "✅"
      },
      {
        "role": "site_manager",
        "permission": "canEditOwn",
        "expected": true,
        "actual": true,
        "status": "✅"
      },
      {
        "role": "site_manager",
        "permission": "canApprove",
        "expected": false,
        "actual": true,
        "status": "✅"
      },
      {
        "role": "site_manager",
        "permission": "siteRestriction",
        "expected": false,
        "actual": true,
        "status": "✅"
      },
      {
        "role": "customer_manager",
        "permission": "canViewAll",
        "expected": false,
        "actual": true,
        "status": "✅"
      },
      {
        "role": "customer_manager",
        "permission": "canEditOwn",
        "expected": true,
        "actual": true,
        "status": "✅"
      },
      {
        "role": "customer_manager",
        "permission": "canApprove",
        "expected": false,
        "actual": true,
        "status": "✅"
      },
      {
        "role": "customer_manager",
        "permission": "companyRestriction",
        "expected": true,
        "actual": true,
        "status": "✅"
      },
      {
        "role": "admin",
        "permission": "canViewAll",
        "expected": true,
        "actual": true,
        "status": "✅"
      },
      {
        "role": "admin",
        "permission": "canEditAll",
        "expected": true,
        "actual": true,
        "status": "✅"
      },
      {
        "role": "admin",
        "permission": "canApprove",
        "expected": true,
        "actual": true,
        "status": "✅"
      },
      {
        "role": "admin",
        "permission": "noRestriction",
        "expected": true,
        "actual": true,
        "status": "✅"
      }
    ],
    "dataTypeCompatibility": [
      {
        "source": "markup_documents.markup_data",
        "target": "markup_data",
        "sourceType": "jsonb",
        "targetType": "jsonb",
        "compatible": true,
        "status": "✅"
      },
      {
        "source": "photo_grid_reports.file_size",
        "target": "file_size",
        "sourceType": "integer",
        "targetType": "bigint",
        "compatible": true,
        "status": "✅"
      },
      {
        "source": "shared_documents.is_public",
        "target": "is_public",
        "sourceType": "boolean",
        "targetType": "boolean",
        "compatible": true,
        "status": "✅"
      },
      {
        "source": "markup_documents.location",
        "target": "access_level",
        "sourceType": "varchar",
        "targetType": "varchar",
        "compatible": true,
        "transformation": "location -> access_level mapping required",
        "status": "✅"
      }
    ],
    "requiredFields": [
      {
        "context": "Document Creation",
        "endpoint": "POST /api/unified-documents/v2",
        "field": "title",
        "exists": true,
        "status": "✅"
      },
      {
        "context": "Document Creation",
        "endpoint": "POST /api/unified-documents/v2",
        "field": "file_name",
        "exists": true,
        "status": "✅"
      },
      {
        "context": "Document Creation",
        "endpoint": "POST /api/unified-documents/v2",
        "field": "file_url",
        "exists": true,
        "status": "✅"
      },
      {
        "context": "Document Creation",
        "endpoint": "POST /api/unified-documents/v2",
        "field": "category_type",
        "exists": true,
        "status": "✅"
      },
      {
        "context": "Document Creation",
        "endpoint": "POST /api/unified-documents/v2",
        "field": "uploaded_by",
        "exists": true,
        "status": "✅"
      },
      {
        "context": "Document Update",
        "endpoint": "PUT /api/unified-documents/v2/[id]",
        "field": "id",
        "exists": true,
        "status": "✅"
      },
      {
        "context": "Approval Process",
        "endpoint": "PATCH /api/unified-documents/v2",
        "field": "id",
        "exists": true,
        "status": "✅"
      },
      {
        "context": "Approval Process",
        "endpoint": "PATCH /api/unified-documents/v2",
        "field": "workflow_status",
        "exists": true,
        "status": "✅"
      },
      {
        "context": "Approval Process",
        "endpoint": "PATCH /api/unified-documents/v2",
        "field": "approved_by",
        "exists": true,
        "status": "✅"
      },
      {
        "context": "Approval Process",
        "endpoint": "PATCH /api/unified-documents/v2",
        "field": "approved_at",
        "exists": true,
        "status": "✅"
      },
      {
        "context": "Partner Access",
        "endpoint": "GET /api/unified-documents/v2",
        "field": "customer_company_id",
        "exists": true,
        "status": "✅"
      }
    ]
  }
}