# 🎯 INOPNC WM 시스템 종합 테스트 계획

## 📋 목차

1. [개요](#개요)
2. [테스트 목표](#테스트-목표)
3. [테스트 범위](#테스트-범위)
4. [화면별/메뉴별 테스트 매트릭스](#화면별메뉴별-테스트-매트릭스)
5. [테스트 전략](#테스트-전략)
6. [역할별 테스트 시나리오](#역할별-테스트-시나리오)
7. [테스트 유형별 계획](#테스트-유형별-계획)
8. [테스트 일정](#테스트-일정)
9. [배포 준비 체크리스트](#배포-준비-체크리스트)

---

## 개요

**프로젝트명**: INOPNC 건설작업관리시스템 (WM)  
**문서 버전**: 1.0  
**작성일**: 2025-08-29  
**작성자**: System Administrator

이 문서는 INOPNC WM 시스템의 전체적인 테스트 전략과 실행 계획을 정의합니다.

## 테스트 목표

### 주요 목표

- ✅ 시스템 전체 기능의 정상 작동 검증
- ✅ 보안 및 권한 체계의 완전성 확인
- ✅ 성능 목표 달성 여부 검증
- ✅ 사용자 경험 품질 보장
- ✅ 프로덕션 배포 준비 상태 확인

### 품질 목표

- 코드 커버리지: 80% 이상
- 핵심 기능 테스트 커버리지: 100%
- 응답 시간: 3초 이내 (95 percentile)
- 동시 사용자: 100명 이상 지원
- 가용성: 99.9% 이상

## 테스트 범위

### 포함 범위

1. **인증 및 권한 관리**
   - 로그인/로그아웃
   - 회원가입 및 승인
   - 역할별 접근 제어
   - 세션 관리

2. **일보 관리**
   - 일보 작성/수정/삭제
   - 일보 제출 및 승인
   - 사진 업로드 및 관리
   - NPC-1000 자재 관리

3. **현장 관리**
   - 현장 생성/수정
   - 작업자 배정
   - 현장 문서 관리
   - 현장별 통계

4. **자재 관리**
   - 자재 입출고
   - 재고 관리
   - 자재 요청 및 승인
   - 자재 이력 추적

5. **근태 관리**
   - 출퇴근 기록
   - 근무 시간 계산
   - 근태 캘린더
   - 급여 정보

6. **문서 관리**
   - 문서 업로드/다운로드
   - 문서 공유 및 권한
   - 마크업 도구
   - 문서 버전 관리

### 제외 범위

- 서드파티 서비스 내부 로직
- Supabase 플랫폼 자체
- 브라우저별 특수 기능

## 화면별/메뉴별 테스트 매트릭스

### 📱 전체 화면 및 메뉴 구조

#### 1. 인증 관련 화면

| 경로                    | 화면명          | 테스트 항목                                  | 우선순위    |
| ----------------------- | --------------- | -------------------------------------------- | ----------- |
| `/auth/login`           | 로그인          | 이메일/비밀번호 입력, 유효성 검증, 에러 처리 | 🔴 Critical |
| `/auth/signup`          | 회원가입        | 폼 검증, 중복 체크, 가입 승인 대기           | 🔴 Critical |
| `/auth/reset-password`  | 비밀번호 재설정 | 이메일 발송, 토큰 검증, 비밀번호 변경        | 🟡 High     |
| `/auth/update-password` | 비밀번호 변경   | 현재 비밀번호 확인, 새 비밀번호 설정         | 🟡 High     |

#### 2. 대시보드 및 공통 화면

| 경로                       | 화면명        | 테스트 항목                             | 우선순위    |
| -------------------------- | ------------- | --------------------------------------- | ----------- |
| `/dashboard`               | 메인 대시보드 | 위젯 표시, 통계 데이터, 빠른 액세스     | 🔴 Critical |
| `/dashboard/profile`       | 프로필 관리   | 개인정보 수정, 아바타 업로드, 알림 설정 | 🟡 High     |
| `/dashboard/settings`      | 설정          | 시스템 설정, 알림 설정, 테마 변경       | 🟢 Medium   |
| `/dashboard/notifications` | 알림 센터     | 알림 목록, 읽음 처리, 필터링            | 🟡 High     |

#### 3. 일보 관리

| 경로                                 | 화면명    | 테스트 항목                          | 우선순위    |
| ------------------------------------ | --------- | ------------------------------------ | ----------- |
| `/dashboard/daily-reports`           | 일보 목록 | 페이지네이션, 검색, 필터링, 정렬     | 🔴 Critical |
| `/dashboard/daily-reports/new`       | 일보 작성 | 폼 입력, 사진 업로드, 임시저장, 제출 | 🔴 Critical |
| `/dashboard/daily-reports/[id]`      | 일보 상세 | 상세 정보 표시, 사진 뷰어, 코멘트    | 🔴 Critical |
| `/dashboard/daily-reports/[id]/edit` | 일보 수정 | 수정 권한 체크, 필드 수정, 이력 관리 | 🔴 Critical |

#### 4. 근태 관리

| 경로                             | 화면명      | 테스트 항목                        | 우선순위    |
| -------------------------------- | ----------- | ---------------------------------- | ----------- |
| `/dashboard/attendance`          | 근태 기록   | 출퇴근 체크, 시간 계산, 상태 표시  | 🔴 Critical |
| `/dashboard/attendance/calendar` | 근태 캘린더 | 월별 뷰, 일별 상세, 휴가/휴일 표시 | 🟡 High     |

#### 5. 자재 관리

| 경로                           | 화면명        | 테스트 항목                         | 우선순위 |
| ------------------------------ | ------------- | ----------------------------------- | -------- |
| `/dashboard/materials`         | 자재 목록     | 재고 현황, 입출고 기록, 검색        | 🟡 High  |
| `/dashboard/materials/npc1000` | NPC-1000 자재 | 특수 자재 관리, 사용량 추적, 보고서 | 🟡 High  |

#### 6. 문서 관리

| 경로                                  | 화면명      | 테스트 항목                        | 우선순위  |
| ------------------------------------- | ----------- | ---------------------------------- | --------- |
| `/dashboard/documents`                | 문서 목록   | 업로드, 다운로드, 권한 관리        | 🟡 High   |
| `/dashboard/admin/documents/shared`   | 공유 문서   | 공유 설정, 권한 부여, 링크 생성    | 🟢 Medium |
| `/dashboard/admin/documents/markup`   | 마크업 문서 | 도면 마크업, 주석 추가, 버전 관리  | 🟢 Medium |
| `/dashboard/admin/documents/required` | 필수 문서   | 필수 서류 체크, 만료일 관리        | 🟡 High   |
| `/dashboard/admin/documents/invoice`  | 송장 문서   | 송장 생성, PDF 출력, 승인 프로세스 | 🟢 Medium |

#### 7. 관리자 전용 화면

| 경로                                    | 화면명          | 테스트 항목                          | 우선순위    |
| --------------------------------------- | --------------- | ------------------------------------ | ----------- |
| `/dashboard/admin`                      | 관리자 대시보드 | 시스템 현황, 경고/알림, 빠른 작업    | 🔴 Critical |
| `/dashboard/admin/users`                | 사용자 관리     | CRUD, 권한 변경, 계정 잠금/해제      | 🔴 Critical |
| `/dashboard/admin/sites`                | 현장 관리       | 현장 생성/수정, 작업자 배정, 설정    | 🔴 Critical |
| `/dashboard/admin/sites/[id]/documents` | 현장별 문서     | 문서 업로드, 카테고리 관리           | 🟡 High     |
| `/dashboard/admin/approvals`            | 승인 관리       | 가입 승인, 일보 승인, 자재 요청 승인 | 🔴 Critical |
| `/dashboard/admin/signup-requests`      | 가입 요청       | 대기 목록, 승인/거절, 이메일 발송    | 🔴 Critical |
| `/dashboard/admin/analytics`            | 분석/통계       | 차트 표시, 데이터 필터, 리포트 생성  | 🟡 High     |
| `/dashboard/admin/backup`               | 백업 관리       | 백업 실행, 복원, 스케줄 설정         | 🔴 Critical |
| `/dashboard/admin/system`               | 시스템 설정     | 환경 설정, 로그 조회, 성능 모니터링  | 🔴 Critical |
| `/dashboard/admin/monitoring`           | 모니터링        | 실시간 모니터링, 알림 설정, 대시보드 | 🟡 High     |
| `/dashboard/admin/audit-logs`           | 감사 로그       | 활동 로그, 보안 이벤트, 필터/검색    | 🟡 High     |

#### 8. 시공업체 관리

| 경로                             | 화면명        | 테스트 항목                              | 우선순위    |
| -------------------------------- | ------------- | ---------------------------------------- | ----------- |
| `/dashboard/admin/organizations` | 시공업체 관리 | 시공업체 등록/수정, 현장 매핑, 권한 설정 | 🔴 Critical |

#### 9. 급여 및 정산

| 경로                      | 화면명    | 테스트 항목                       | 우선순위 |
| ------------------------- | --------- | --------------------------------- | -------- |
| `/dashboard/admin/salary` | 급여 관리 | 급여 계산, 명세서 생성, 지급 처리 | 🟡 High  |

#### 10. 커뮤니케이션

| 경로                             | 화면명    | 테스트 항목                    | 우선순위  |
| -------------------------------- | --------- | ------------------------------ | --------- |
| `/dashboard/admin/communication` | 공지사항  | 공지 작성, 대상 설정, 발송     | 🟢 Medium |
| `/dashboard/admin/notifications` | 알림 관리 | 푸시 알림, 이메일 설정, 템플릿 | 🟡 High   |

#### 11. 장비 관리

| 경로                   | 화면명    | 테스트 항목                     | 우선순위  |
| ---------------------- | --------- | ------------------------------- | --------- |
| `/dashboard/equipment` | 장비 관리 | 장비 등록, 점검 일정, 사용 기록 | 🟢 Medium |

#### 12. 사진 보고서

| 경로                                  | 화면명             | 테스트 항목                        | 우선순위  |
| ------------------------------------- | ------------------ | ---------------------------------- | --------- |
| `/dashboard/admin/photo-grid-reports` | 사진 그리드 보고서 | 사진 그룹화, 보고서 생성, PDF 출력 | 🟢 Medium |

#### 13. 도구 및 유틸리티

| 경로                                | 화면명           | 테스트 항목                     | 우선순위  |
| ----------------------------------- | ---------------- | ------------------------------- | --------- |
| `/dashboard/admin/tools/markup`     | 마크업 도구      | 도면 업로드, 주석 도구, 저장    | 🟢 Medium |
| `/dashboard/admin/tools/photo-grid` | 사진 그리드 도구 | 사진 배치, 템플릿 적용, 출력    | 🟢 Medium |
| `/dashboard/admin/markup-editor`    | 마크업 에디터    | 편집 기능, 협업 기능, 버전 관리 | 🟢 Medium |

#### 14. 테스트 및 디버그 화면

| 경로                            | 화면명             | 테스트 항목                       | 우선순위    |
| ------------------------------- | ------------------ | --------------------------------- | ----------- |
| `/dashboard/test-permissions`   | 권한 테스트        | 역할별 접근 테스트, 권한 매트릭스 | 🔵 Dev Only |
| `/dashboard/test-site-info`     | 사이트 정보 테스트 | 데이터 로딩, 캐싱, 에러 처리      | 🔵 Dev Only |
| `/dashboard/test-notifications` | 알림 테스트        | 푸시 알림, 이메일, 실시간 알림    | 🔵 Dev Only |
| `/dashboard/debug-user`         | 사용자 디버그      | 세션 정보, 권한 확인, 토큰 검증   | 🔵 Dev Only |

#### 15. 시공업체 전용 화면

| 경로                 | 화면명            | 테스트 항목                     | 우선순위  |
| -------------------- | ----------------- | ------------------------------- | --------- |
| `/partner/dashboard` | 시공업체 대시보드 | 프로젝트 현황, 작업 일정, 정산  | 🟢 Medium |
| `/partner/work-logs` | 작업 일지         | 일지 작성, 승인 요청, 이력 조회 | 🟢 Medium |

### 🔍 역할별 접근 권한 매트릭스

| 화면/기능       | Worker    | Site Manager | Customer Manager | Admin |
| --------------- | --------- | ------------ | ---------------- | ----- |
| **인증**        |
| 로그인/로그아웃 | ✅        | ✅           | ✅               | ✅    |
| 회원가입        | ✅        | ✅           | ✅               | ✅    |
| **대시보드**    |
| 메인 대시보드   | ✅        | ✅           | ✅               | ✅    |
| 프로필 관리     | ✅        | ✅           | ✅               | ✅    |
| **일보**        |
| 일보 목록 조회  | ✅ (본인) | ✅ (현장)    | ✅ (읽기)        | ✅    |
| 일보 작성       | ✅        | ✅           | ❌               | ✅    |
| 일보 수정       | ✅ (본인) | ✅ (현장)    | ❌               | ✅    |
| 일보 승인       | ❌        | ✅           | ❌               | ✅    |
| **근태**        |
| 근태 기록       | ✅ (본인) | ✅           | ❌               | ✅    |
| 근태 조회       | ✅ (본인) | ✅ (현장)    | ✅ (읽기)        | ✅    |
| **자재**        |
| 자재 조회       | ✅        | ✅           | ✅               | ✅    |
| 자재 요청       | ✅        | ✅           | ❌               | ✅    |
| 자재 승인       | ❌        | ✅           | ❌               | ✅    |
| **문서**        |
| 문서 조회       | ✅ (권한) | ✅           | ✅               | ✅    |
| 문서 업로드     | ❌        | ✅           | ❌               | ✅    |
| **관리자 기능** |
| 사용자 관리     | ❌        | ❌           | ❌               | ✅    |
| 현장 관리       | ❌        | ✅ (제한)    | ❌               | ✅    |
| 시스템 설정     | ❌        | ❌           | ❌               | ✅    |
| 백업 관리       | ❌        | ❌           | ❌               | ✅    |

### 📊 테스트 우선순위 기준

#### 🔴 Critical (필수)

- 비즈니스 핵심 기능
- 보안 관련 기능
- 데이터 무결성 관련
- 결제/정산 관련

#### 🟡 High (높음)

- 자주 사용되는 기능
- 사용자 경험에 큰 영향
- 성능 중요 기능

#### 🟢 Medium (중간)

- 보조 기능
- 관리 편의 기능
- 리포트/분석 기능

#### 🔵 Dev Only (개발용)

- 테스트 전용 화면
- 디버그 도구
- 개발 환경에서만 사용

## 🎯 테스트 실행 책임 매트릭스

### 테스트 담당자별 실행 계획

#### 🤖 Claude가 실행할 테스트

| 테스트 항목           | 설명                                        | 예상 시간 | 상태    |
| --------------------- | ------------------------------------------- | --------- | ------- |
| **단위 테스트 작성**  |
| Auth Actions 테스트   | `/app/auth/actions.ts` 로그인/회원가입 로직 | 1시간     | ⏳ 대기 |
| Daily Reports Actions | 일보 CRUD 서버 액션 테스트                  | 1시간     | ⏳ 대기 |
| Material Actions      | 자재 관리 로직 테스트                       | 1시간     | ⏳ 대기 |
| Validation Utils      | 입력 검증 유틸리티 테스트                   | 30분      | ⏳ 대기 |
| **API 테스트**        |
| API Routes 테스트     | `/app/api/*` 엔드포인트 테스트              | 2시간     | ⏳ 대기 |
| Supabase RLS 검증     | Row Level Security 정책 테스트              | 1시간     | ⏳ 대기 |
| **코드 품질**         |
| TypeScript 타입 검사  | `npm run type-check` 실행                   | 10분      | ⏳ 대기 |
| ESLint 검사           | `npm run lint` 실행                         | 10분      | ⏳ 대기 |
| 코드 커버리지 측정    | Jest coverage 리포트 생성                   | 30분      | ⏳ 대기 |
| **보안 테스트**       |
| npm audit             | 의존성 취약점 스캔                          | 10분      | ⏳ 대기 |
| 환경변수 검증         | `.env` 설정 확인                            | 10분      | ⏳ 대기 |
| **성능 분석**         |
| Bundle 크기 분석      | `npm run analyze` 실행                      | 20분      | ⏳ 대기 |
| 쿼리 최적화 검증      | 데이터베이스 쿼리 분석                      | 30분      | ⏳ 대기 |

#### 🎭 Playwright가 실행할 테스트

| 테스트 항목         | 설명                                | 예상 시간 | 상태    |
| ------------------- | ----------------------------------- | --------- | ------- |
| **인증 플로우**     |
| 로그인 시나리오     | 정상/실패 케이스, 세션 유지         | 30분      | ⏳ 대기 |
| 회원가입 플로우     | 가입 → 승인대기 → 활성화            | 30분      | ⏳ 대기 |
| 비밀번호 재설정     | 이메일 발송 → 토큰 검증 → 변경      | 20분      | ⏳ 대기 |
| **일보 관리 E2E**   |
| 일보 작성 플로우    | 작성 → 사진첨부 → 제출              | 40분      | ⏳ 대기 |
| 일보 승인 플로우    | 관리자 검토 → 승인/반려             | 30분      | ⏳ 대기 |
| **현장 관리 E2E**   |
| 작업자 배정         | 검색 → 선택 → 배정 → 확인           | 30분      | ⏳ 대기 |
| 현장 전환           | 현장 선택 → 데이터 로드 → 권한 체크 | 20분      | ⏳ 대기 |
| **크로스 브라우저** |
| Chrome 테스트       | 전체 시나리오                       | 1시간     | ⏳ 대기 |
| Firefox 테스트      | 주요 기능                           | 30분      | ⏳ 대기 |
| Safari 테스트       | 주요 기능                           | 30분      | ⏳ 대기 |
| **모바일 반응형**   |
| 모바일 뷰포트       | 320px, 375px, 414px                 | 30분      | ⏳ 대기 |
| 태블릿 뷰포트       | 768px, 1024px                       | 20분      | ⏳ 대기 |
| **시각적 회귀**     |
| 스크린샷 비교       | 주요 화면 변경 감지                 | 30분      | ⏳ 대기 |

#### 👤 사용자(당신)가 직접 실행할 테스트

| 테스트 항목                      | 설명                     | 예상 시간 | 체크리스트 |
| -------------------------------- | ------------------------ | --------- | ---------- |
| **Worker 역할 테스트**           |
| 모바일 로그인                    | 실제 스마트폰에서 로그인 | 5분       | ☐ 완료     |
| 출퇴근 체크                      | GPS 위치 확인, 시간 기록 | 10분      | ☐ 완료     |
| 일보 작성 (모바일)               | 사진 촬영, 텍스트 입력   | 15분      | ☐ 완료     |
| 오프라인 모드                    | 네트워크 끊고 사용       | 10분      | ☐ 완료     |
| **Site Manager 역할 테스트**     |
| 현장 대시보드                    | 통계 확인, 위젯 동작     | 10분      | ☐ 완료     |
| 작업자 관리                      | 배정/해제, 권한 변경     | 15분      | ☐ 완료     |
| 일보 승인                        | 검토, 코멘트, 승인/반려  | 15분      | ☐ 완료     |
| 자재 요청 처리                   | 요청 확인, 승인, 반려    | 10분      | ☐ 완료     |
| **Customer Manager 역할 테스트** |
| 프로젝트 모니터링                | 진척도 확인, 이슈 확인   | 10분      | ☐ 완료     |
| 문서 다운로드                    | PDF, 엑셀 다운로드       | 5분       | ☐ 완료     |
| 읽기 전용 확인                   | 수정 불가 확인           | 5분       | ☐ 완료     |
| **Admin 역할 테스트**            |
| 사용자 승인                      | 가입 요청 처리           | 10분      | ☐ 완료     |
| 현장 생성                        | 새 현장 등록, 설정       | 15분      | ☐ 완료     |
| 백업 실행                        | 수동 백업, 다운로드      | 10분      | ☐ 완료     |
| 시스템 모니터링                  | 로그 확인, 성능 지표     | 10분      | ☐ 완료     |
| **UX/사용성 테스트**             |
| 직관성 평가                      | 메뉴 찾기, 기능 이해도   | 20분      | ☐ 완료     |
| 에러 복구                        | 에러 발생 시 대응        | 10분      | ☐ 완료     |
| 로딩 시간 체감                   | 실제 체감 속도 평가      | 10분      | ☐ 완료     |
| 다국어 지원                      | 한국어 번역 확인         | 10분      | ☐ 완료     |
| **실제 기기 테스트**             |
| iPhone Safari                    | iOS 실기기 테스트        | 20분      | ☐ 완료     |
| Android Chrome                   | Android 실기기 테스트    | 20분      | ☐ 완료     |
| 태블릿                           | iPad/Galaxy Tab 테스트   | 15분      | ☐ 완료     |
| **탐색적 테스트**                |
| 엣지 케이스                      | 예상치 못한 시나리오     | 30분      | ☐ 완료     |
| 동시 작업                        | 여러 탭/창에서 작업      | 15분      | ☐ 완료     |
| 대용량 데이터                    | 많은 데이터 입력/조회    | 20분      | ☐ 완료     |

#### 🔧 기타 도구를 사용한 테스트

| 테스트 항목       | 도구              | 설명                   | 예상 시간 | 상태    |
| ----------------- | ----------------- | ---------------------- | --------- | ------- |
| **성능 테스트**   |
| Lighthouse        | Google Lighthouse | 웹 성능 점수 측정      | 20분      | ⏳ 대기 |
| WebPageTest       | webpagetest.org   | 상세 성능 분석         | 30분      | ⏳ 대기 |
| GTmetrix          | gtmetrix.com      | 페이지 속도 분석       | 20분      | ⏳ 대기 |
| **부하 테스트**   |
| k6                | Grafana k6        | API 부하 테스트        | 1시간     | ⏳ 대기 |
| Apache JMeter     | JMeter            | 동시 사용자 시뮬레이션 | 1시간     | ⏳ 대기 |
| **접근성 테스트** |
| axe DevTools      | Chrome Extension  | WCAG 준수 검사         | 30분      | ⏳ 대기 |
| WAVE              | WebAIM WAVE       | 접근성 평가            | 20분      | ⏳ 대기 |
| **보안 스캔**     |
| OWASP ZAP         | ZAP Proxy         | 보안 취약점 스캔       | 1시간     | ⏳ 대기 |
| Snyk              | snyk.io           | 의존성 취약점 검사     | 20분      | ⏳ 대기 |

### 📅 단계별 실행 순서

#### Phase 1: 기본 설정 (Claude)

1. ☐ Jest 설정 파일 생성
2. ☐ Playwright 설정 파일 생성
3. ☐ 테스트 환경변수 설정
4. ☐ 테스트 데이터베이스 준비

#### Phase 2: 코드 테스트 (Claude)

1. ☐ 단위 테스트 작성
2. ☐ API 테스트 작성
3. ☐ 타입 체크 실행
4. ☐ 린트 검사 실행
5. ☐ 커버리지 측정

#### Phase 3: E2E 테스트 (Playwright)

1. ☐ 인증 시나리오 작성
2. ☐ 주요 워크플로우 테스트
3. ☐ 크로스 브라우저 테스트
4. ☐ 모바일 반응형 테스트

#### Phase 4: 수동 테스트 (사용자)

1. ☐ Worker 역할 시나리오
2. ☐ Site Manager 역할 시나리오
3. ☐ Customer Manager 역할 시나리오
4. ☐ Admin 역할 시나리오
5. ☐ 실제 모바일 기기 테스트

#### Phase 5: 성능/보안 (도구)

1. ☐ Lighthouse 성능 측정
2. ☐ 부하 테스트 실행
3. ☐ 보안 스캔 실행
4. ☐ 접근성 검사

### 📊 테스트 진행 현황 대시보드

```
전체 진행률: [⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜] 0%

Claude 테스트:     [⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜] 0% (0/14)
Playwright 테스트: [⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜] 0% (0/13)
수동 테스트:       [⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜] 0% (0/22)
도구 테스트:       [⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜] 0% (0/9)

우선순위별:
🔴 Critical: 0/15 완료
🟡 High:     0/12 완료
🟢 Medium:   0/8 완료
```

## 테스트 전략

### 테스트 담당자별 역할

#### 🤖 Claude (자동화 테스트 담당)

**책임 영역**:

- 단위 테스트 작성 및 실행
- API 엔드포인트 테스트
- 비즈니스 로직 검증
- 코드 품질 검사
- 보안 취약점 스캔

**수행 작업**:

```javascript
// 예시: 단위 테스트
- auth.test.ts (인증 로직)
- daily-reports.test.ts (일보 관리)
- validation.test.ts (입력 검증)
- workflows.test.ts (워크플로우)
```

#### 🎭 Playwright (E2E 테스트 담당)

**책임 영역**:

- 사용자 시나리오 테스트
- UI 상호작용 테스트
- 크로스 브라우저 테스트
- 시각적 회귀 테스트

**수행 작업**:

```typescript
// 예시: E2E 테스트
- auth.spec.ts (로그인 플로우)
- daily-report.spec.ts (일보 작성 플로우)
- site-management.spec.ts (현장 관리 플로우)
- mobile-responsive.spec.ts (모바일 반응형)
```

#### 👤 수동 테스트 (사용자 담당)

**책임 영역**:

- 사용자 수용 테스트 (UAT)
- 탐색적 테스트
- 사용성 테스트
- 실제 기기 테스트

**수행 작업**:

- 실제 업무 시나리오 검증
- 예외 상황 발견
- UX 개선사항 제안
- 성능 체감 평가

## 역할별 테스트 시나리오

### 1. Worker (작업자) 시나리오

#### 일일 작업 플로우

```
1. 모바일 로그인
2. 현장 선택/확인
3. 출근 체크
4. 일보 작성
   - 작업 내용 입력
   - 사진 촬영/업로드
   - NPC-1000 자재 사용량 입력
5. 일보 제출
6. 퇴근 체크
7. 로그아웃
```

#### 테스트 케이스

- [ ] TC-W001: 모바일 로그인 성공
- [ ] TC-W002: 현장 정보 조회
- [ ] TC-W003: 출퇴근 기록
- [ ] TC-W004: 일보 작성 및 제출
- [ ] TC-W005: 사진 업로드 (최대 10장)
- [ ] TC-W006: 오프라인 모드 지원

### 2. Site Manager (현장관리자) 시나리오

#### 현장 관리 플로우

```
1. 데스크톱/모바일 로그인
2. 현장 대시보드 확인
3. 작업자 관리
   - 작업자 배정/해제
   - 근태 확인
4. 일보 관리
   - 일보 검토 및 승인
   - 피드백 작성
5. 자재 관리
   - 재고 확인
   - 자재 요청
6. 보고서 생성
```

#### 테스트 케이스

- [ ] TC-SM001: 현장 대시보드 조회
- [ ] TC-SM002: 작업자 배정 관리
- [ ] TC-SM003: 일보 승인/반려
- [ ] TC-SM004: 자재 요청 생성
- [ ] TC-SM005: 현장 통계 확인
- [ ] TC-SM006: 문서 업로드 및 공유

### 3. Customer Manager (고객사 관리자) 시나리오

#### 프로젝트 모니터링 플로우

```
1. 로그인
2. 프로젝트 현황 대시보드
3. 진행 상황 확인
   - 일보 조회
   - 진척도 확인
4. 문서 조회
   - 도면 확인
   - 보고서 다운로드
5. 이슈 확인 및 커뮤니케이션
```

#### 테스트 케이스

- [ ] TC-CM001: 프로젝트 대시보드 접근
- [ ] TC-CM002: 일보 조회 (읽기 전용)
- [ ] TC-CM003: 문서 다운로드
- [ ] TC-CM004: 진척도 리포트 확인
- [ ] TC-CM005: 이슈 코멘트 작성

### 4. Admin (시스템 관리자) 시나리오

#### 시스템 관리 플로우

```
1. 관리자 로그인
2. 시스템 대시보드
3. 사용자 관리
   - 회원가입 승인
   - 권한 설정
4. 현장 관리
   - 현장 생성/수정
   - 현장별 설정
5. 시스템 설정
   - 백업 관리
   - 알림 설정
6. 모니터링 및 분석
```

#### 테스트 케이스

- [ ] TC-A001: 관리자 대시보드 전체 기능
- [ ] TC-A002: 사용자 승인 및 권한 변경
- [ ] TC-A003: 현장 생성 및 설정
- [ ] TC-A004: 시스템 백업 실행
- [ ] TC-A005: 전체 통계 및 분석
- [ ] TC-A006: 시스템 로그 확인

## 테스트 유형별 계획

### 1. 단위 테스트 (Unit Testing)

#### 대상

- Server Actions (`/app/actions/`)
- API Routes (`/app/api/`)
- Utility Functions (`/lib/`)
- React Components (`/components/`)

#### 도구

- Jest
- React Testing Library
- MSW (Mock Service Worker)

#### 실행 계획

```bash
# 단위 테스트 실행
npm test

# 커버리지 측정
npm test -- --coverage

# 특정 파일 테스트
npm test auth.test.ts
```

### 2. 통합 테스트 (Integration Testing)

#### 대상

- API 엔드포인트 통합
- 데이터베이스 트랜잭션
- 인증 플로우
- 파일 업로드/다운로드

#### 도구

- Jest + Supertest
- Supabase Test Client

#### 테스트 시나리오

```typescript
// 예시: API 통합 테스트
describe('Daily Report API', () => {
  test('일보 생성 -> 수정 -> 제출 -> 승인', async () => {
    // 1. 일보 생성
    // 2. 내용 수정
    // 3. 제출 처리
    // 4. 관리자 승인
  })
})
```

### 3. E2E 테스트 (End-to-End Testing)

#### 대상

- 전체 사용자 워크플로우
- 크로스 브라우저 호환성
- 모바일 반응형 UI
- 실시간 기능

#### 도구

- Playwright
- BrowserStack (옵션)

#### 브라우저 매트릭스

- Chrome (최신 2개 버전)
- Firefox (최신 버전)
- Safari (최신 버전)
- Edge (최신 버전)
- Mobile Safari (iOS)
- Chrome Mobile (Android)

### 4. 성능 테스트 (Performance Testing)

#### 측정 지표

- **응답 시간**: API 응답 시간
- **처리량**: 초당 요청 처리 수
- **동시성**: 동시 사용자 수
- **리소스 사용**: CPU, 메모리, 네트워크

#### 도구

- Lighthouse (웹 성능)
- k6 (부하 테스트)
- New Relic (모니터링)

#### 성능 목표

```yaml
API 응답 시간:
  - p50: < 200ms
  - p95: < 1000ms
  - p99: < 3000ms

페이지 로드:
  - FCP: < 1.8s
  - LCP: < 2.5s
  - FID: < 100ms
  - CLS: < 0.1

동시 사용자:
  - 최소: 100명
  - 목표: 500명
```

### 5. 보안 테스트 (Security Testing)

#### 테스트 항목

- **인증/인가**
  - [ ] RLS 정책 검증
  - [ ] API 권한 체크
  - [ ] 세션 관리
  - [ ] 비밀번호 정책

- **입력 검증**
  - [ ] SQL Injection
  - [ ] XSS 방어
  - [ ] CSRF 토큰
  - [ ] 파일 업로드 검증

- **데이터 보호**
  - [ ] 민감 정보 마스킹
  - [ ] HTTPS 통신
  - [ ] 암호화 저장

#### 도구

- OWASP ZAP
- ESLint Security Plugin
- npm audit

### 6. 접근성 테스트 (Accessibility Testing)

#### 체크리스트

- [ ] 키보드 네비게이션
- [ ] 스크린 리더 호환성
- [ ] 색상 대비
- [ ] 폰트 크기 조절
- [ ] ARIA 레이블

#### 도구

- axe DevTools
- WAVE
- Lighthouse

### 7. 사용성 테스트 (Usability Testing)

#### 평가 항목

- 작업 완료 시간
- 오류 발생 빈도
- 사용자 만족도
- 학습 용이성

#### 테스트 방법

- 사용자 관찰
- 설문 조사
- A/B 테스트
- 히트맵 분석

## 테스트 일정

### Phase 1: 준비 단계 (2-3시간)

**Day 1**

- [ ] 테스트 환경 구성
- [ ] Jest 설정 파일 생성
- [ ] Playwright 설치 및 설정
- [ ] 테스트 데이터베이스 준비
- [ ] 테스트 계정 생성

### Phase 2: 단위 테스트 (4-6시간)

**Day 1-2**

- [ ] 기존 테스트 검토
- [ ] 핵심 비즈니스 로직 테스트
- [ ] API 라우트 테스트
- [ ] 컴포넌트 테스트
- [ ] 커버리지 분석

### Phase 3: 통합 테스트 (3-4시간)

**Day 2-3**

- [ ] API 통합 테스트
- [ ] 데이터베이스 트랜잭션 테스트
- [ ] 파일 처리 테스트
- [ ] 외부 서비스 연동 테스트

### Phase 4: E2E 테스트 (6-8시간)

**Day 3-4**

- [ ] 사용자 시나리오 작성
- [ ] Playwright 테스트 구현
- [ ] 크로스 브라우저 테스트
- [ ] 모바일 테스트

### Phase 5: 성능 테스트 (3-4시간)

**Day 4-5**

- [ ] 부하 테스트 시나리오 작성
- [ ] API 성능 측정
- [ ] 프론트엔드 성능 분석
- [ ] 최적화 권고사항 도출

### Phase 6: 보안 테스트 (3-4시간)

**Day 5**

- [ ] 보안 스캔 실행
- [ ] 권한 체계 검증
- [ ] 취약점 분석
- [ ] 보안 패치 적용

### Phase 7: UAT 및 최종 검증 (4-6시간)

**Day 6**

- [ ] 사용자 수용 테스트
- [ ] 버그 수정 및 재테스트
- [ ] 최종 체크리스트 확인
- [ ] 배포 준비 완료

## 배포 준비 체크리스트

### 기능 검증

- [ ] 모든 핵심 기능 정상 작동
- [ ] 역할별 권한 체계 작동
- [ ] 파일 업로드/다운로드 정상
- [ ] 알림 시스템 작동
- [ ] 오프라인 모드 지원

### 성능 검증

- [ ] 페이지 로드 시간 < 3초
- [ ] API 응답 시간 < 1초
- [ ] 동시 사용자 100명 이상 지원
- [ ] 메모리 누수 없음
- [ ] 데이터베이스 쿼리 최적화

### 보안 검증

- [ ] 모든 엔드포인트 인증 체크
- [ ] RLS 정책 활성화
- [ ] 민감 정보 마스킹
- [ ] HTTPS 적용
- [ ] 보안 헤더 설정

### 호환성 검증

- [ ] Chrome 정상 작동
- [ ] Firefox 정상 작동
- [ ] Safari 정상 작동
- [ ] Edge 정상 작동
- [ ] 모바일 브라우저 정상 작동

### 문서화

- [ ] API 문서 최신화
- [ ] 사용자 매뉴얼 작성
- [ ] 배포 가이드 작성
- [ ] 트러블슈팅 가이드
- [ ] 변경 로그 작성

### 백업 및 복구

- [ ] 데이터베이스 백업 설정
- [ ] 복구 절차 테스트
- [ ] 롤백 계획 수립
- [ ] 모니터링 설정
- [ ] 알림 설정

### 환경 설정

- [ ] 프로덕션 환경 변수 설정
- [ ] 도메인 설정
- [ ] SSL 인증서 적용
- [ ] CDN 설정
- [ ] 로깅 설정

## 테스트 결과 보고

### 보고서 템플릿

```markdown
## 테스트 실행 결과

**테스트 일자**: YYYY-MM-DD
**테스트 버전**: v1.0.0
**테스터**: [이름]

### 요약

- 전체 테스트 케이스: XXX개
- 성공: XXX개 (XX%)
- 실패: XXX개 (XX%)
- 보류: XXX개 (XX%)

### 주요 발견 사항

1. [중요 버그/이슈]
2. [성능 이슈]
3. [보안 취약점]

### 권고 사항

1. [개선 필요 사항]
2. [추가 테스트 필요]
3. [배포 전 필수 수정]

### 상세 결과

[테스트 케이스별 상세 결과]
```

## 리스크 및 대응 방안

### 식별된 리스크

1. **데이터 마이그레이션 오류**
   - 대응: 백업 및 롤백 계획 수립
2. **동시 사용자 급증**
   - 대응: 오토스케일링 설정
3. **외부 서비스 장애**
   - 대응: 폴백 메커니즘 구현
4. **보안 취약점 발견**
   - 대응: 즉시 패치 및 모니터링

## 부록

### A. 테스트 도구 설치 가이드

#### Jest 설치

```bash
npm install --save-dev jest @types/jest
npm install --save-dev @testing-library/react
npm install --save-dev @testing-library/jest-dom
```

#### Playwright 설치

```bash
npm install --save-dev @playwright/test
npx playwright install
```

### B. 테스트 명령어

```bash
# 단위 테스트
npm test

# E2E 테스트
npm run test:e2e

# 성능 테스트
npm run test:performance

# 전체 테스트
npm run test:all

# 테스트 커버리지
npm run test:coverage
```

### C. 참고 자료

- [Jest Documentation](https://jestjs.io/docs/getting-started)
- [Playwright Documentation](https://playwright.dev/docs/intro)
- [Testing Library](https://testing-library.com/docs/)
- [OWASP Testing Guide](https://owasp.org/www-project-web-security-testing-guide/)

---

**문서 버전 관리**

- v1.0 (2025-08-29): 초기 작성
- 다음 검토일: 2025-09-05

**문의사항**

- 테스트 관련 문의: QA Team
- 시스템 관련 문의: DevOps Team
