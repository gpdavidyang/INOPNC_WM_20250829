# 시스템관리자 화면 디자인 표준 가이드 (요약 + 진행 로그)

안내

- 전체 가이드는 원래 `docs/DY1005_시스템관리자화면_디자인_표준가이드.md`에 정리되어 있었으나, 현재 리포지토리 상태에서는 본 문서에서 요약과 진행 로그를 함께 관리합니다.
- 세부 규칙/토큰/컴포넌트/샘플은 아래 “핵심 규칙 요약”과 “링크된 파일”을 참고하세요.

## 핵심 규칙 요약

- 컬러 토큰: `--brand-300/400/600/700`, `--accent-500/600`, `--neutral-50/200`, `--focus`
- 버튼 변형: primary/secondary/outline/ghost/destructive/success/warning, 기본 높이 44px
- 인풋: 높이 44px, 라운드 12px, focus ring `--focus`
- 테이블: 헤더 `bg-[--neutral-50]`, Row hover 동일 배경
- 페이지 헤더: Breadcrumb + Back + Actions 표준화
- 빈/로딩/에러: `EmptyState`, `Alert`, `LoadingSpinner` 사용
- 위험 액션: `use-confirm` 확인 다이얼로그, 알림은 `use-toast`
- 긴 폼: 하단 `StickyActionBar` 고정 액션바

## 컬러 가이드 업데이트 (2025-10-05)

본 가이드는 제공받은 컬러 보드(이미지)의 팔레트를 시스템 컬러 토큰으로 정리한 것입니다. 모든 화면은 아래 토큰을 우선 사용합니다. 실제 토큰 정의는 `styles/design-tokens.css`에 반영되어 있습니다.

### Basic Colors → Color Tokens

- Neutral(배경/테이블 헤더)
  - `#F3F7FA` → `--neutral-50`
  - `#BAC6E1` → `--neutral-200`
- Brand(주색계)
  - `#8DA0CD` → `--brand-300`
  - `#5F7AB9` → `--brand-400` (= `--focus`)
  - `#1B419C` → `--brand-600`
  - `#15347C` → `--brand-700`
- Accent(보조 강조/위험)
  - `#FF461C` → `--accent-500`
  - `#E62C00` → `--accent-600`
- Others(상태)
  - `#FFDF00` → `--warning-500`
  - `#28BE6E` → `--success-500`

참고: Focus ring은 가이드의 연보라 톤을 사용하여 `--focus: #5F7AB9`로 정의합니다.

### Gradients(권장 조합)

- Brand Soft: `#8DA0CD` → `#5F7AB9` (배경/배너)
- Brand Deep: `#1B419C` → `#15347C` (히어로/섹션 헤더)
- Accent Heat: `#FF461C` → `#E62C00` (위험/경고 배너, 주의 컨텍스트)

### 버튼/컴포넌트 매핑

- Primary 버튼: 배경 `--brand-600`, hover `--brand-700`, 글자 `#fff`, focus `--focus`
- Outline 버튼: 테두리 `--brand-400`, 글자 `--brand-700`, hover 배경 `--neutral-50`
- Destructive 버튼: 배경 `--accent-600`, hover `brightness(95%)`, 글자 `#fff`
- Ghost 버튼: 글자 `--brand-700`, hover 배경 `--neutral-50`
- 테이블 헤더: 배경 `--neutral-50`
- 페이지 포커스/인풋 포커스: ring `--focus`

### 구현 참고(이미 반영됨)

- 토큰 정의: `styles/design-tokens.css`
  - `--brand-300: #8DA0CD;`
  - `--brand-400: #5F7AB9;`
  - `--brand-600: #1B419C;`, `--brand-700: #15347C;`
  - `--accent-500: #FF461C;`, `--accent-600: #E62C00;`
  - `--neutral-50: #F3F7FA;`, `--neutral-200: #BAC6E1;`
  - `--success-500: #28BE6E;`, `--warning-500: #FFDF00;`
  - `--focus: #5F7AB9;`

- 버튼 변형(예시): `components/ui/button.tsx`
  - Primary: `bg-[--brand-600] hover:bg-[--brand-700] focus:ring-[--focus]`
  - Outline: `border-[--brand-400] hover:bg-[--neutral-50]`
  - Destructive: `bg-[--accent-600]`

- 사용 예시(Tailwind 임의 값 사용)

```tsx
// Primary
<Button className="bg-[--brand-600] hover:bg-[--brand-700] focus:ring-[--focus] text-white" />

// Outline
<Button variant="outline" className="border-[--brand-400] hover:bg-[--neutral-50] text-[--brand-700]" />

// Gradient 배너(Brand Soft)
<div className="bg-gradient-to-r from-[#8DA0CD] to-[#5F7AB9] text-white p-6 rounded-lg">...</div>
```

> 주의: 페이지/컴포넌트에서 임의 HEX를 직접 쓰지 말고, 위 토큰을 우선 사용합니다. 신규 색상 필요 시 `styles/design-tokens.css`에 토큰을 추가한 뒤 사용하세요.

## 표(Table) 표준화 – Admin DataTable

모든 시스템관리자 표는 기본적으로 `components/admin/DataTable.tsx`를 사용합니다. 이 컴포넌트는 다음을 보장합니다.

- 헤더 배경 색상: `--brand-300`(#8DA0CD)
- 헤더 텍스트 색상: `--neutral-50`(#F3F7FA)
- 헤더 클릭 정렬: `columns[].sortable = true` 설정 시, 헤더 클릭으로 정렬 토글(▲/▼ 아이콘 표시)
- 접근성: `aria-sort` 속성 자동 부여
- Sticky header: `stickyHeader` prop 사용 시 스크롤 고정

사용 예시

```tsx
import DataTable, { type Column } from '@/components/admin/DataTable'

type Row = { name: string; status: string; created_at: string }

const columns: Column<Row>[] = [
  { key: 'name', header: '이름', sortable: true, render: r => <b>{r.name}</b> },
  { key: 'status', header: '상태', sortable: true },
  { key: 'created_at', header: '등록일', sortable: true, align: 'right' },
]

<DataTable<Row>
  data={rows}
  columns={columns}
  rowKey={r => r.name}
  stickyHeader
  emptyMessage="표시할 데이터가 없습니다."
/>
```

마이그레이션 가이드

1. 관리자 화면에서 `Table/TableHeader/TableHead`를 직접 사용하는 표는 DataTable로 교체합니다.

- 정렬이 필요 없는 컬럼은 `sortable: false`(기본값)로 두고, 필요한 컬럼만 켭니다.
- 커스텀 셀은 `render(row)`를 사용해 기존 JSX를 옮깁니다.

2. 반드시 헤더 배경(#8DA0CD)이 적용되어야 하므로, 관리자 표에서 `DataTable`을 우선 사용합니다.

3. 특수 레이아웃(모달 내부 등)에서도 동일 규칙을 따르되, `stickyHeader`는 컨텍스트에 맞게 선택 적용합니다.

검증 체크리스트

- [ ] 헤더 배경이 #8DA0CD, 텍스트가 흰색인지 확인
- [ ] 정렬 가능한 헤더에 ▲/▼ 아이콘이 표시되는지 확인
- [ ] 테이블 상/하 스크롤 시 Sticky header가 시각적으로 어긋나지 않는지 확인

## 링크된 파일(핵심 컴포넌트/토큰)

- 공통 토큰: `styles/design-system/tokens.css`, `styles/design-tokens.css`
- 버튼/인풋/테이블: `components/ui/button.tsx`, `components/ui/input.tsx`, `components/ui/table.tsx`
- 페이지 헤더: `components/ui/page-header.tsx`
- 빈 상태/액션바: `components/ui/empty-state.tsx`, `components/ui/sticky-action-bar.tsx`

---

## 적용 현황 로그 · 체크리스트 (2025-10-05)

요약

- 공통 토큰/컴포넌트 정비 완료: 버튼/인풋/테이블/페이지 헤더/EmptyState/StickyActionBar
- 시스템관리자 화면 전반에 표준 적용 완료(현장관리 4개 화면은 충돌 방지를 위해 보류/원복)
- 위험 액션 use-confirm, 알림 use-toast 점진 적용 중

공통(Design System) 적용

- [x] 토큰 추가: `styles/design-system/tokens.css`, `styles/design-tokens.css`
- [x] 버튼 변형 표준화: `components/ui/button.tsx`
- [x] 인풋 포커스/라운드/높이 표준화: `components/ui/input.tsx`
- [x] 테이블 헤더/Row Hover: `components/ui/table.tsx`
- [x] 페이지 헤더 확장(Breadcrumb/Back/Actions): `components/ui/page-header.tsx`
- [x] 빈 상태 표준: `components/ui/empty-state.tsx`
- [x] 긴 폼 하단 고정 액션바: `components/ui/sticky-action-bar.tsx`

화면별 적용 현황 (Admin)

- 사용자: [x] 목록 `app/dashboard/admin/users/page.tsx`, [x] 상세 `app/dashboard/admin/users/[id]/page.tsx`
- 파트너: [x] 목록 `app/dashboard/admin/partners/page.tsx`, [x] 상세 `app/dashboard/admin/partners/[id]/page.tsx`, [x] 수정 `app/dashboard/admin/partners/[id]/edit/page.tsx`
- 문서: [x] 메인 `app/dashboard/admin/documents/page.tsx`, [x] 공유 `app/dashboard/admin/documents/shared/page.tsx`, [x] 정산 `app/dashboard/admin/documents/invoice/page.tsx`, [x] 마크업 `app/dashboard/admin/documents/markup/page.tsx`, [x] 사진대지 `app/dashboard/admin/documents/photo-grid/page.tsx`, [x] 업로드 `app/dashboard/admin/documents/upload/page.tsx`, [x] 상세(통합) `app/dashboard/admin/documents/[id]/page.tsx`, [x] 상세(마크업) `app/dashboard/admin/documents/markup/[id]/page.tsx`, [x] 상세(사진대지) `app/dashboard/admin/documents/photo-grid/[id]/page.tsx`, [x] PTW `app/dashboard/admin/documents/ptw/[id]/page.tsx`, [x] 내 문서 `app/dashboard/admin/documents/my-documents/page.tsx`, [x] 회사서류 `app/dashboard/admin/documents/company/page.tsx`
- 자재: [x] 메인 `app/dashboard/admin/materials/page.tsx`, [x] 입고요청 상세 `app/dashboard/admin/materials/requests/[id]/page.tsx`, [x] 출고 상세 `app/dashboard/admin/materials/shipments/[id]/page.tsx`
- 조직: [x] 목록 `app/dashboard/admin/organizations/page.tsx`, [x] 상세 `app/dashboard/admin/organizations/[id]/page.tsx`, [x] 수정 `app/dashboard/admin/organizations/[id]/edit/page.tsx`, [x] 신규 `app/dashboard/admin/organizations/new/page.tsx`
- 분석/모니터링/알림/가입요청/권한: [x] 분석 `app/dashboard/admin/analytics/page.tsx`, [x] 모니터링 `app/dashboard/admin/monitoring/page.tsx`, [x] 알림 `app/dashboard/admin/notifications/page.tsx`, [x] 가입요청 `app/dashboard/admin/signup-requests/page.tsx`, [x] 권한테스트 `app/dashboard/admin/test-permissions/page.tsx`
- 대시보드/시스템/툴: [x] 통합대시보드 `app/dashboard/admin/integrated/page.tsx`, [x] 시스템 관리 `app/dashboard/admin/system/page.tsx`, [x] 백업 관리 `app/dashboard/admin/backup/page.tsx`, [x] 계정 설정 `app/dashboard/admin/account/page.tsx`, [x] 도구(마크업/포토그리드/미리보기) `app/dashboard/admin/tools/*`
- 작업일지: [x] 목록 `app/dashboard/admin/daily-reports/page.tsx`, [x] 상세 `app/dashboard/admin/daily-reports/[id]/page.tsx`, [x] 수정 `app/dashboard/admin/daily-reports/[id]/edit/page.tsx`, [x] 새 작성 `app/dashboard/admin/daily-reports/new/page.tsx`
- 급여: [x] 대시보드 `app/dashboard/admin/salary/dashboard/page.tsx`, [x] 기본세율 `app/dashboard/admin/salary/defaults/page.tsx`, [x] 규칙 `app/dashboard/admin/salary/rules/page.tsx`, [x] 미리보기 `app/dashboard/admin/salary/preview/page.tsx`, [x] 개인설정 `app/dashboard/admin/salary/personal/page.tsx`, [x] 레코드 `app/dashboard/admin/salary/records/page.tsx`, [x] 캘린더 `app/dashboard/admin/salary/calendar/[workerId]/page.tsx`
- 현장관리(보류): [ ] 목록 `app/dashboard/admin/sites/page.tsx`, [ ] 상세 `app/dashboard/admin/sites/[id]/page.tsx`, [ ] 신규 `app/dashboard/admin/sites/new/page.tsx`, [ ] 현장 문서 `app/dashboard/admin/sites/[id]/documents/page.tsx`

행동 패턴 표준화(점진)

- use-confirm 적용
  - [x] 회사서류 삭제(단건/일괄): `app/dashboard/admin/documents/company/page.tsx`
  - [x] 급여 개인설정(기본 세율 적용): `app/dashboard/admin/salary/personal/page.tsx`
  - [x] 레거시 일괄/단건 확인: `components/admin/legacy/BulkActionBar.tsx`
  - [x] 레거시 문서관리 삭제 확인: `components/admin/legacy/DocumentManagement.tsx`
  - [x] 레거시 필수서류 삭제 확인: `components/admin/legacy/documents/RequiredDocumentsManagement.tsx`
  - [x] 레거시 자재 출고요청 삭제 확인: `components/admin/legacy/materials/tabs/ShipmentRequestsTab.tsx`
  - [x] 레거시 출고기록 삭제 확인: `components/admin/legacy/materials/tabs/ShipmentManagementTab.tsx`
  - [ ] 기타 삭제/반려/차단/상태변경 진입점(전수 적용 계속)
- use-toast 적용
  - [x] 급여 스냅샷 발행/승인/지급/미리보기: `app/dashboard/admin/salary/preview/page.tsx`
  - [x] 급여 기본세율/규칙 저장: `app/dashboard/admin/salary/defaults/page.tsx`, `app/dashboard/admin/salary/rules/page.tsx`
  - [x] 회사서류 업로드/삭제: `app/dashboard/admin/documents/company/page.tsx`
  - [x] 스냅샷 목록 일괄/단건 실패 알림: `app/dashboard/admin/salary/SnapshotList.tsx`
  - [x] 레거시 문서관리 성공/오류: `components/admin/legacy/DocumentManagement.tsx`
  - [x] 레거시 자재관리 성공/오류: `components/admin/legacy/MaterialsManagement.tsx`
  - [x] 레거시 출고요청/출고기록 성공/오류: `components/admin/legacy/materials/tabs/ShipmentRequestsTab.tsx`, `components/admin/legacy/materials/tabs/ShipmentManagementTab.tsx`
  - [x] 레거시 공지/이메일: `components/admin/legacy/communication/tabs/AnnouncementsTab.tsx`, `components/admin/legacy/EmailNotifications.tsx`
  - [x] 레거시 사용자 상세 모달: `components/admin/legacy/UserDetailModal.tsx`
  - [x] 레거시 도구(포토그리드/마크업): `components/admin/legacy/tools/PhotoGridToolManagement.tsx`, `components/admin/legacy/tools/MarkupToolManagement.tsx`
  - [x] 레거시 알림 생성 오류/성공: `components/admin/legacy/notifications/NotificationCreateModal.tsx`
  - [ ] 기타 화면의 alert 치환(전수 진행 중)
- EmptyState 적용
  - [x] 사용자/파트너/문서/자재/급여 등 주요 빈 상태 치환
  - [x] 레거시 공용 테이블 EmptyState: `components/admin/legacy/AdminDataTable.tsx`
  - [x] 레거시 알림센터 빈 상태: `components/admin/legacy/notifications/NotificationCenter.tsx`
  - [ ] 나머지 화면 및 레거시 모듈 전수 적용
- StickyActionBar 적용
  - [x] 조직 수정/등록 폼
  - [x] 레거시 조직 페이지 액션바(고정): `components/admin/legacy/organizations/OrganizationEditPage.tsx`, `components/admin/legacy/organizations/OrganizationForm.tsx`(isPage)
  - [ ] 기타 긴 폼(문서/자재/권한/설정 등) 확대 적용

현장관리 영역 처리 방침

- 다른 세션 작업과 충돌 방지를 위해 현장관리 4개 페이지는 표준 헤더 래핑을 일시 보류하고 원래 구조로 복원함
  - 영향 파일: `app/dashboard/admin/sites/page.tsx`, `app/dashboard/admin/sites/[id]/page.tsx`, `app/dashboard/admin/sites/new/page.tsx`, `app/dashboard/admin/sites/[id]/documents/page.tsx`
- 병합 이후 현장관리에도 동일 표준을 재적용 예정(EmptyState/use-confirm/use-toast/StickyActionBar 포함)

다음 작업(우선순위 제안)

1. 레거시 관리자 화면(`components/admin/legacy/*`) 표준화
   - [x] EmptyState 치환(공용/알림), [x] use-confirm 도입(주요 삭제 흐름), [x] use-toast 알림 통일(주요 성공/오류)
   - [x] 커뮤니케이션/사용자 모달/도구/현장문서/조직 리스트/자재 생산 탭 반영
   - [x] 문서 모듈 전수 반영(업로드/상세/권한/목록/버전)
   - [ ] 잔여 경로 전수 반영(급여/현장관리 일부)
2. 긴 폼 StickyActionBar 확대
   - [ ] 자재·문서 편집/업로드 워크플로우, [ ] 권한/설정 폼
3. alert 남은 지점 전체 치환(use-toast)
   - [ ] `app/**` 경로 내 alert 사용 제거 및 메시지 규격화
4. 색상 톤-온-톤/배지 컬러 체계 마이그레이션
   - [ ] 임의 색상 → `--brand-*`, `--accent-*` 토큰 사용 확인 및 수정
5. 현장관리 표준 재적용(다른 세션 병합 완료 후)
   - [ ] PageHeader/EmptyState/use-confirm/use-toast/StickyActionBar 일괄 적용

브랜치/운영 가이드

- 표준화 작업은 별도 브랜치로 운영 권장: `feature/admin-ui-guideline`
- 현장관리 기능개발은 분리 브랜치: `feature/admin-sites-<기능명>`
- 병합 순서: 표준화 → 기능 브랜치 rebase → 현장관리 표준 재적용
  - [x] 개인문서 삭제 확인: `components/admin/legacy/documents/MyDocumentsManagement.tsx`
  - [x] 기성청구/도면마킹 삭제 확인: `components/admin/legacy/documents/InvoiceDocumentsManagement.tsx`, `components/admin/legacy/documents/MarkupDocumentsManagement.tsx`
  - [x] 공유문서 일괄 삭제 확인: `components/admin/legacy/documents/UnifiedSharedDocumentsList.tsx`
  - [x] 개인/공유/업로드/폴더/모의 필수서류 토스트:
    - `components/admin/legacy/documents/MyDocumentsManagement.tsx`
    - `components/admin/legacy/documents/DocumentUploadPage.tsx`
    - `components/admin/legacy/documents/UploadDocumentModal.tsx`
    - `components/admin/legacy/documents/CreateFolderModal.tsx`
    - `components/admin/legacy/documents/UnifiedSharedDocumentsList.tsx`
    - `components/admin/legacy/documents/RequiredDocumentsWithMockData.tsx`
    - `components/admin/legacy/documents/InvoiceDocumentsManagement.tsx`
    - `components/admin/legacy/documents/MarkupDocumentsManagement.tsx`
  - [x] 상세 모달: `components/admin/legacy/documents/InvoiceDocumentDetailModal.tsx`, `components/admin/legacy/documents/RequiredDocumentDetailModal.tsx`, `components/admin/legacy/documents/MarkupDocumentVersionModal.tsx`
  - [x] 목록/관리 화면: `components/admin/legacy/documents/SharedDocumentsManagement.tsx`, `components/admin/legacy/documents/shared/SharedDocumentsList.tsx`, `components/admin/legacy/documents/RealRequiredDocumentsManagement.tsx`
  - [x] RequiredDocumentType/Detail/RealRequired: `components/admin/legacy/documents/RequiredDocumentTypeDetailPage.tsx`, `components/admin/legacy/documents/RequiredDocumentDetailModal.tsx`, `components/admin/legacy/documents/RealRequiredDocumentsManagement.tsx`
  - [x] Markup detail/version: `components/admin/legacy/documents/MarkupDocumentDetail.tsx`, `components/admin/legacy/documents/MarkupDocumentVersionModal.tsx`
  - [x] Shared upload modal: `components/admin/legacy/documents/shared/DocumentUploadModal.tsx`
